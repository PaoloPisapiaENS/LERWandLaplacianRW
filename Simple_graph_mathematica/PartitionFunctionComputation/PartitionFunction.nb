(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    238969,       6474]
NotebookOptionsPosition[    214024,       6048]
NotebookOutlinePosition[    214455,       6065]
CellTagsIndexPosition[    214412,       6062]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Kay\[CloseCurlyQuote]s original code", "Subsubitem",
 CellChangeTimes->{{3.938757929143791*^9, 
  3.938757940192602*^9}},ExpressionUUID->"aa4e649a-6695-9342-88f8-\
a1867eff5b7f"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"c1", " ", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}]}], ")"}], 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"c2", " ", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "k"}], "]"}]}], "+", 
     RowBox[{"c3", " ", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], " ", "+", " ", 
     RowBox[{"c4", " ", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "l"}], "]"}]}]}], ")"}]}], "//", 
  "Expand"}], "\[IndentingNewLine]", 
 RowBox[{"%", "/.", 
  RowBox[{
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "a_"}], "]"}], "->", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "a"}], "]"}], "+", 
    RowBox[{"\[Kappa]", " ", 
     RowBox[{"\[Delta]\[Phi]", "[", 
      RowBox[{"x", ",", "a"}], "]"}]}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"D", "[", 
   RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
  RowBox[{"\[Kappa]", "->", "0"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "/.", 
  RowBox[{
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "a_"}], "]"}], "->", 
   RowBox[{
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "a"}], "]"}], "+", 
    RowBox[{"\[Kappa]", " ", 
     RowBox[{"\[Delta]\[Phi]s", "[", 
      RowBox[{"x", ",", "a"}], "]"}]}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"D", "[", 
   RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
  RowBox[{"\[Kappa]", "->", "0"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "/.", 
  RowBox[{
   RowBox[{
    RowBox[{"\[Delta]\[Phi]", "[", 
     RowBox[{"x", ",", "a_"}], "]"}], 
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "b_"}], "]"}]}], "->", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"a", ",", "b"}], "]"}]}]}]}], "Input",
 CellChangeTimes->{
  3.938678682376967*^9, {3.938679140929338*^9, 3.938679489305241*^9}, {
   3.938679550402173*^9, 3.938679561741987*^9}, {3.938681184904608*^9, 
   3.938681210600727*^9}, {3.938681266948994*^9, 3.9386812906213436`*^9}, {
   3.938681423700872*^9, 3.9386814282183*^9}, {3.938744792825558*^9, 
   3.9387447966318073`*^9}, {3.9387458728326817`*^9, 
   3.9387458732093983`*^9}, {3.938747538936119*^9, 3.938747542075218*^9}},
 CellLabel->
  "In[206]:=",ExpressionUUID->"586f0187-b41e-42d3-a6e7-fe4819030eae"],

Cell[BoxData[
 RowBox[{"1", "+", 
  RowBox[{"c1", " ", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{"c3", " ", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{"c1", " ", "c3", " ", 
   SuperscriptBox[
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "j"}], "]"}], "2"]}], "+", 
  RowBox[{"c4", " ", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "l"}], "]"}]}], "+", 
  RowBox[{"c1", " ", "c4", " ", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}], " ", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "l"}], "]"}]}], "+", 
  RowBox[{"c2", " ", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "k"}], "]"}]}], "+", 
  RowBox[{"c1", " ", "c2", " ", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}], " ", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "k"}], "]"}]}]}]], "Output",
 CellChangeTimes->{{3.938679182538084*^9, 3.938679190024797*^9}, {
   3.938679229541102*^9, 3.938679235238371*^9}, {3.93867929751159*^9, 
   3.938679322658941*^9}, 3.938679356720433*^9, {3.9386793888836184`*^9, 
   3.938679393917679*^9}, {3.938679444704547*^9, 3.93867949005083*^9}, 
   3.938679565507073*^9, {3.9386811950004864`*^9, 3.938681211845661*^9}, 
   3.938681292450186*^9, 3.938681430272644*^9, 3.9387447974434376`*^9, 
   3.938745949836357*^9, 3.938747542784294*^9},
 CellLabel->
  "Out[206]=",ExpressionUUID->"a59a17d7-380a-cd40-abae-5c33f6af1ce5"],

Cell[BoxData[
 RowBox[{"1", "+", 
  RowBox[{"c1", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], "+", 
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x", ",", "j"}], "]"}]}], ")"}]}], "+", 
  RowBox[{"c3", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], "+", 
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x", ",", "j"}], "]"}]}], ")"}]}], "+", 
  RowBox[{"c1", " ", "c3", " ", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{
      RowBox[{"\[Kappa]", " ", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}], "+", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], ")"}], "2"]}], "+", 
  RowBox[{"c4", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "l"}], "]"}]}], "+", 
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x", ",", "l"}], "]"}]}], ")"}]}], "+", 
  RowBox[{"c1", " ", "c4", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], "+", 
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x", ",", "j"}], "]"}]}], ")"}], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "l"}], "]"}]}], "+", 
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x", ",", "l"}], "]"}]}], ")"}]}], "+", 
  RowBox[{"c2", " ", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "k"}], "]"}]}], "+", 
  RowBox[{"c1", " ", "c2", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], "+", 
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x", ",", "j"}], "]"}]}], ")"}], " ", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "k"}], "]"}]}]}]], "Output",
 CellChangeTimes->{{3.938679182538084*^9, 3.938679190024797*^9}, {
   3.938679229541102*^9, 3.938679235238371*^9}, {3.93867929751159*^9, 
   3.938679322658941*^9}, 3.938679356720433*^9, {3.9386793888836184`*^9, 
   3.938679393917679*^9}, {3.938679444704547*^9, 3.93867949005083*^9}, 
   3.938679565507073*^9, {3.9386811950004864`*^9, 3.938681211845661*^9}, 
   3.938681292450186*^9, 3.938681430272644*^9, 3.9387447974434376`*^9, 
   3.938745949836357*^9, 3.938747542799999*^9},
 CellLabel->
  "Out[207]=",ExpressionUUID->"3c78dbde-d81a-ef47-b195-fe7b392e8073"],

Cell[BoxData[
 RowBox[{
  RowBox[{"c1", " ", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{"c3", " ", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{"c4", " ", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "l"}], "]"}]}], "+", 
  RowBox[{"2", " ", "c1", " ", "c3", " ", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}], " ", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{"c1", " ", "c4", " ", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "l"}], "]"}], " ", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{"c1", " ", "c4", " ", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}], " ", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "l"}], "]"}]}], "+", 
  RowBox[{"c1", " ", "c2", " ", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}], " ", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "k"}], "]"}]}]}]], "Output",
 CellChangeTimes->{{3.938679182538084*^9, 3.938679190024797*^9}, {
   3.938679229541102*^9, 3.938679235238371*^9}, {3.93867929751159*^9, 
   3.938679322658941*^9}, 3.938679356720433*^9, {3.9386793888836184`*^9, 
   3.938679393917679*^9}, {3.938679444704547*^9, 3.93867949005083*^9}, 
   3.938679565507073*^9, {3.9386811950004864`*^9, 3.938681211845661*^9}, 
   3.938681292450186*^9, 3.938681430272644*^9, 3.9387447974434376`*^9, 
   3.938745949836357*^9, 3.9387475428161798`*^9},
 CellLabel->
  "Out[208]=",ExpressionUUID->"2e3d9e40-6b8f-e440-9d60-c3a82b126b0c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"c1", " ", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{"c3", " ", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{"c4", " ", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "l"}], "]"}]}], "+", 
  RowBox[{"2", " ", "c1", " ", "c3", " ", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}], " ", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{"c1", " ", "c4", " ", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "l"}], "]"}], " ", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{"c1", " ", "c4", " ", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}], " ", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "l"}], "]"}]}], "+", 
  RowBox[{"c1", " ", "c2", " ", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "k"}], "]"}]}], "+", 
     RowBox[{"\[Phi]s", "[", 
      RowBox[{"x", ",", "k"}], "]"}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{{3.938679182538084*^9, 3.938679190024797*^9}, {
   3.938679229541102*^9, 3.938679235238371*^9}, {3.93867929751159*^9, 
   3.938679322658941*^9}, 3.938679356720433*^9, {3.9386793888836184`*^9, 
   3.938679393917679*^9}, {3.938679444704547*^9, 3.93867949005083*^9}, 
   3.938679565507073*^9, {3.9386811950004864`*^9, 3.938681211845661*^9}, 
   3.938681292450186*^9, 3.938681430272644*^9, 3.9387447974434376`*^9, 
   3.938745949836357*^9, 3.9387475428161798`*^9},
 CellLabel->
  "Out[209]=",ExpressionUUID->"88a8c82f-22f0-ac40-be03-10b6da8d4976"],

Cell[BoxData[
 RowBox[{"c1", " ", "c2", " ", 
  RowBox[{"\[Delta]\[Phi]", "[", 
   RowBox[{"x", ",", "j"}], "]"}], " ", 
  RowBox[{"\[Delta]\[Phi]s", "[", 
   RowBox[{"x", ",", "k"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.938679182538084*^9, 3.938679190024797*^9}, {
   3.938679229541102*^9, 3.938679235238371*^9}, {3.93867929751159*^9, 
   3.938679322658941*^9}, 3.938679356720433*^9, {3.9386793888836184`*^9, 
   3.938679393917679*^9}, {3.938679444704547*^9, 3.93867949005083*^9}, 
   3.938679565507073*^9, {3.9386811950004864`*^9, 3.938681211845661*^9}, 
   3.938681292450186*^9, 3.938681430272644*^9, 3.9387447974434376`*^9, 
   3.938745949836357*^9, 3.938747542831833*^9},
 CellLabel->
  "Out[210]=",ExpressionUUID->"26d29aa8-03f8-a64a-a154-42d1215d9f95"],

Cell[BoxData[
 RowBox[{"c1", " ", "c2", " ", 
  RowBox[{"\[Delta]", "[", 
   RowBox[{"j", ",", "k"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.938679182538084*^9, 3.938679190024797*^9}, {
   3.938679229541102*^9, 3.938679235238371*^9}, {3.93867929751159*^9, 
   3.938679322658941*^9}, 3.938679356720433*^9, {3.9386793888836184`*^9, 
   3.938679393917679*^9}, {3.938679444704547*^9, 3.93867949005083*^9}, 
   3.938679565507073*^9, {3.9386811950004864`*^9, 3.938681211845661*^9}, 
   3.938681292450186*^9, 3.938681430272644*^9, 3.9387447974434376`*^9, 
   3.938745949836357*^9, 3.938747542831833*^9},
 CellLabel->
  "Out[211]=",ExpressionUUID->"4f092e54-3885-db47-af82-82a6515500c5"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", "\[IndentingNewLine]"}]], "Input",
 CellChangeTimes->{{3.938752076287335*^9, 
  3.938752076460058*^9}},ExpressionUUID->"1e90aa4a-94f7-304c-972e-\
1238f7272fbc"],

Cell[BoxData[
 RowBox[{"%", "/.", 
  RowBox[{
   RowBox[{
    RowBox[{"\[Delta]\[Phi]", "[", 
     RowBox[{"x", ",", "a_"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "b_"}], "]"}]}], "->", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"a", ",", "b"}], "]"}]}]}]], "Input",ExpressionUUID->"908031c0-\
56de-2444-a28f-f7f41f01b67b"],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", "\[IndentingNewLine]"}]], "Input",
 CellChangeTimes->{{3.9387520794689503`*^9, 
  3.938752079642164*^9}},ExpressionUUID->"a9bf0f98-07ff-064d-89b2-\
9295cea7a466"]
}, Open  ]],

Cell["\<\
We want to implement a partition function computing algorithm.\
\>", "Item",
 CellChangeTimes->{{3.9386874808455143`*^9, 3.938687508626948*^9}, {
  3.9388385701516056`*^9, 
  3.938838573335644*^9}},ExpressionUUID->"79ff84b5-8f52-354a-8abb-\
0141ba4fffee"],

Cell[CellGroupData[{

Cell["\<\
We have made many progresses. Let\[CloseCurlyQuote]s gather what we have \
obtained so far. You can look further down the code for all the trials that \
led here\
\>", "Item",
 CellChangeTimes->{{3.9388383288182507`*^9, 3.9388383465717926`*^9}, {
  3.9388384943560333`*^9, 
  3.9388385252533855`*^9}},ExpressionUUID->"0a2b3987-cc4a-8f4a-bd5a-\
f9828e4cbbfa"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Unprotect", "[", "NonCommutativeMultiply", "]"}], ";"}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"A_", "**", 
   RowBox[{"(", 
    RowBox[{"B_", "+", "C_"}], ")"}]}], ":=", 
  RowBox[{
   RowBox[{"A", "**", "B"}], "+", 
   RowBox[{"A", "**", "C"}]}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"B_", "+", "C_"}], ")"}], "**", "A_"}], ":=", 
  RowBox[{
   RowBox[{"B", "**", "A"}], "+", 
   RowBox[{"C", "**", "A"}]}]}], "\n", 
 RowBox[{
  RowBox[{"A_", "**", 
   RowBox[{"c_", "?", "NumberQ"}]}], ":=", 
  RowBox[{"c", " ", "A"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"c_", "?", "NumberQ"}], "**", "A_"}], ":=", 
  RowBox[{"c", " ", "A"}]}], "\n", 
 RowBox[{
  RowBox[{"A_", "**", 
   RowBox[{"(", 
    RowBox[{"B_", " ", 
     RowBox[{"c_", "?", "NumberQ"}]}], ")"}]}], ":=", 
  RowBox[{"c", " ", 
   RowBox[{"A", "**", "B"}]}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"A_", " ", 
     RowBox[{"c_", "?", "NumberQ"}]}], ")"}], "**", "B_"}], ":=", 
  RowBox[{"c", " ", 
   RowBox[{"A", "**", "B"}]}]}], "\n", 
 RowBox[{
  RowBox[{"A_", "**", 
   RowBox[{"(", 
    RowBox[{"B_", " ", "c_Rational"}], ")"}]}], ":=", 
  RowBox[{"c", " ", 
   RowBox[{"A", "**", "B"}]}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"A_", " ", "c_Rational"}], ")"}], "**", "B_"}], ":=", 
  RowBox[{"c", " ", 
   RowBox[{"A", "**", "B"}]}]}], "\n", 
 RowBox[{
  RowBox[{"A_", "**", 
   RowBox[{"(", 
    RowBox[{"B_", " ", "c_Power"}], ")"}]}], ":=", 
  RowBox[{"c", " ", 
   RowBox[{"A", "**", "B"}]}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"A_", " ", "c_Power"}], ")"}], "**", "B_"}], ":=", 
  RowBox[{"c", " ", 
   RowBox[{"A", "**", "B"}]}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"a_", " ", "*", " ", "A_"}], ")"}], "**", " ", "B_"}], ":=", 
  RowBox[{"a", "*", 
   RowBox[{"A", "**", "B"}]}]}], "\[IndentingNewLine]", 
 RowBox[{" ", 
  RowBox[{
   RowBox[{"A_", "**", " ", 
    RowBox[{"(", 
     RowBox[{"b_", "*", "B_"}], ")"}]}], ":=", 
   RowBox[{"b", "*", 
    RowBox[{"A", "**", "B"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"a_", " ", "*", " ", "A_"}], ")"}], "**", " ", 
   RowBox[{"(", 
    RowBox[{"b_", "*", "B_"}], ")"}]}], ":=", 
  RowBox[{"a", "*", "b", "*", 
   RowBox[{"A", "**", "B"}]}]}]}], "Input",
 CellChangeTimes->{{3.9386875707267265`*^9, 3.9386875707267265`*^9}, 
   3.9387495643518686`*^9},
 CellLabel->
  "In[673]:=",ExpressionUUID->"1b7afe48-f435-d445-a0ba-6c8f99426d97"],

Cell[BoxData[{
 RowBox[{"ClearAll", "[", "\[Delta]rule", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"\[Delta]rule", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"\[Delta]", "[", 
        RowBox[{"a_", ",", "b_"}], "]"}], 
       RowBox[{"\[Delta]", "[", 
        RowBox[{"b_", ",", "c_"}], "]"}]}], "->", 
      RowBox[{"\[Delta]", "[", 
       RowBox[{"a", ",", "c"}], "]"}]}], ",", 
     RowBox[{
      RowBox[{"\[Delta]", "[", 
       RowBox[{"a_", ",", "a_"}], "]"}], "->", "n"}]}], "}"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.938678605304145*^9, 3.938678787718462*^9}, {
  3.938678977105157*^9, 3.938679021273773*^9}, {3.938680965833015*^9, 
  3.938680983313354*^9}, {3.938687474020847*^9, 3.938687474923767*^9}, {
  3.938687740121014*^9, 3.9386877548080635`*^9}, {3.938833523645527*^9, 
  3.938833526392559*^9}, {3.938838419519087*^9, 3.9388384287900352`*^9}},
 CellLabel->
  "In[687]:=",ExpressionUUID->"d40ff829-fc6d-9c46-85f4-1774e719035d"],

Cell[BoxData[{
 RowBox[{"ClearAll", "[", "BerezinOrder", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"BerezinOrder", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"A_", "[", 
        RowBox[{"x_", ",", "i_"}], "]"}], "**", 
       RowBox[{"A_", "[", 
        RowBox[{"x_", ",", "i_"}], "]"}]}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"A_", "[", 
          RowBox[{"x_", ",", "i_"}], "]"}], "**", 
         RowBox[{"B_", "[", 
          RowBox[{"y_", ",", "j_"}], "]"}]}], "/;", 
        RowBox[{"B", "\[Equal]", "\[Phi]s"}]}], "/;", 
       RowBox[{"A", "==", "\[Phi]"}]}], "\[RuleDelayed]", " ", 
      RowBox[{
       RowBox[{"B", "[", 
        RowBox[{"y", ",", "j"}], "]"}], "**", 
       RowBox[{"A", "[", 
        RowBox[{"x", ",", "i"}], "]"}]}]}]}], "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.9388312020372047`*^9, 3.9388312183462048`*^9}, {
  3.9388351830072193`*^9, 3.938835184620882*^9}, {3.9388352898504124`*^9, 
  3.9388352905285378`*^9}, {3.9388384317914333`*^9, 3.9388384393368397`*^9}, {
  3.9388453483033237`*^9, 3.9388453651084538`*^9}},
 CellLabel->
  "In[793]:=",ExpressionUUID->"72ecf502-ae2f-cc48-ad96-1616a7753d3e"],

Cell[BoxData[{
 RowBox[{"ClearAll", "[", "WickOrder", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"WickOrder", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"A_", "[", 
        RowBox[{"x_", ",", "i_"}], "]"}], "**", 
       RowBox[{"A_", "[", 
        RowBox[{"x_", ",", "i_"}], "]"}]}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"A_", "[", 
          RowBox[{"x_", ",", "i_"}], "]"}], "**", 
         RowBox[{"B_", "[", 
          RowBox[{"y_", ",", "j_"}], "]"}]}], "/;", 
        RowBox[{"B", "\[Equal]", "\[Delta]\[Phi]s"}]}], "/;", 
       RowBox[{"A", "==", "\[Delta]\[Phi]"}]}], "\[RuleDelayed]", " ", 
      RowBox[{
       RowBox[{"B", "[", 
        RowBox[{"y", ",", "j"}], "]"}], "**", 
       RowBox[{"A", "[", 
        RowBox[{"x", ",", "i"}], "]"}]}]}]}], "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.9388312020372047`*^9, 3.9388312183462048`*^9}, {
  3.9388351830072193`*^9, 3.938835184620882*^9}, {3.9388352898504124`*^9, 
  3.9388352905285378`*^9}, {3.9388384317914333`*^9, 3.9388384393368397`*^9}},
 CellLabel->
  "In[689]:=",ExpressionUUID->"7612ecc8-8921-6d4b-8dc6-7916139b0cb4"],

Cell[BoxData[{
 RowBox[{"ClearAll", "[", "wick", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x_", ",", "a_"}], "]"}], ",", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"y_", ",", "b_"}], "]"}]}], "}"}], "]"}], ":=", 
   RowBox[{
    RowBox[{"\[Delta]", "[", 
     RowBox[{"a", ",", "b"}], "]"}], 
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "y"}], "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x_", ",", "a_"}], "]"}], ",", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"y_", ",", "b_"}], "]"}]}], "}"}], "]"}], ":=", 
   RowBox[{
    RowBox[{"\[Delta]", "[", 
     RowBox[{"a", ",", "b"}], "]"}], 
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "y"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", "a__", "}"}], "]"}], ":=", 
   RowBox[{"Sum", "[", " ", 
    RowBox[{
     RowBox[{
      RowBox[{"wick", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"List", "[", "a", "]"}], "[", 
          RowBox[{"[", "1", "]"}], "]"}], " ", ",", 
         RowBox[{
          RowBox[{"List", "[", "a", "]"}], "[", 
          RowBox[{"[", 
           RowBox[{"index", "+", 
            RowBox[{
             RowBox[{"Length", "[", 
              RowBox[{"List", "[", "a", "]"}], "]"}], "/", "2"}]}], "]"}], 
          "]"}]}], "}"}], "]"}], " ", "*", " ", 
      RowBox[{"wick", "[", 
       RowBox[{"Flatten", "@", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"List", "[", "a", "]"}], "[", 
           RowBox[{"[", 
            RowBox[{"2", ";;", 
             RowBox[{
              RowBox[{"Length", "[", 
               RowBox[{"List", "[", "a", "]"}], "]"}], "/", "2"}]}], "]"}], 
           "]"}], ",", 
          RowBox[{
           RowBox[{"List", "[", "a", "]"}], "[", 
           RowBox[{"[", 
            RowBox[{
             RowBox[{"1", "+", 
              RowBox[{
               RowBox[{"Length", "[", 
                RowBox[{"List", "[", "a", "]"}], "]"}], "/", "2"}]}], ";;", 
             RowBox[{"index", "+", 
              RowBox[{
               RowBox[{"Length", "[", 
                RowBox[{"List", "[", "a", "]"}], "]"}], "/", "2"}], "-", 
              "1"}]}], "]"}], "]"}], ",", 
          RowBox[{
           RowBox[{"List", "[", "a", "]"}], "[", 
           RowBox[{"[", 
            RowBox[{
             RowBox[{"index", "+", 
              RowBox[{
               RowBox[{"Length", "[", 
                RowBox[{"List", "[", "a", "]"}], "]"}], "/", "2"}], "+", 
              "1"}], ";;"}], "]"}], "]"}]}], "}"}]}], "]"}]}], ",", 
     RowBox[{"{", 
      RowBox[{"index", ",", "1", ",", 
       RowBox[{
        RowBox[{"Length", "[", 
         RowBox[{"List", "[", "a", "]"}], "]"}], "/", "2"}]}], "}"}]}], " ", 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", 
     RowBox[{"a__", "+", "b__"}], "}"}], "]"}], ":=", 
   RowBox[{
    RowBox[{"wick", "[", 
     RowBox[{"{", "a", "}"}], "]"}], "+", 
    RowBox[{"wick", "[", 
     RowBox[{"{", "b", "}"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", 
     RowBox[{"a__", "+", "b__", "+", "c__"}], "}"}], "]"}], ":=", 
   RowBox[{
    RowBox[{"wick", "[", 
     RowBox[{"{", "a", "}"}], "]"}], "+", 
    RowBox[{"wick", "[", 
     RowBox[{"{", 
      RowBox[{"b", "+", "c"}], "}"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", 
     RowBox[{"A_", "*", 
      RowBox[{"a__", "**", "b__"}]}], "}"}], "]"}], ":=", 
   RowBox[{"A", "*", 
    RowBox[{"wick", "[", 
     RowBox[{"{", 
      RowBox[{"a", ",", "b"}], "}"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", 
     RowBox[{"a__", "**", "b__"}], "}"}], "]"}], ":=", 
   RowBox[{"wick", "[", 
    RowBox[{"{", 
     RowBox[{"a", ",", "b"}], "}"}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{
  3.9387579432220387`*^9, 3.938830683845415*^9, {3.938830869408968*^9, 
   3.9388309433113537`*^9}, {3.938830983303009*^9, 3.938830988362379*^9}, 
   3.9388310509784737`*^9, {3.938831231066305*^9, 3.938831242362568*^9}, {
   3.9388313955086727`*^9, 3.9388313982715645`*^9}, {3.9388314547026653`*^9, 
   3.938831492166607*^9}, {3.938831595993828*^9, 3.938831623668976*^9}, {
   3.9388317529859333`*^9, 3.9388317684430904`*^9}, {3.938831818910324*^9, 
   3.9388318248092365`*^9}, {3.938831854953575*^9, 3.9388318661430016`*^9}, {
   3.938831992652981*^9, 3.938831998875969*^9}, {3.9388321751420956`*^9, 
   3.9388321792581806`*^9}, {3.938832281328392*^9, 3.9388322900717087`*^9}, {
   3.938832493313305*^9, 3.938832617622631*^9}, {3.938832709851551*^9, 
   3.938832785618868*^9}, {3.938833091318884*^9, 3.9388331139330482`*^9}, {
   3.9388331590345*^9, 3.938833163229124*^9}, 3.9388384594854584`*^9},
 CellLabel->
  "In[699]:=",ExpressionUUID->"988a4952-f63d-3f47-854b-5a551843a802"],

Cell[BoxData[{
 RowBox[{"ClearAll", "[", "BerezinIntegral", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"BerezinIntegral", "[", 
     RowBox[{"a__", ",", "x_", ",", "b_", ",", "flavorIndices_"}], "]"}], "/;", 
    RowBox[{"b", ">", 
     RowBox[{"Length", "[", "flavorIndices", "]"}]}]}], ":=", "a"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"BerezinIntegral", "[", 
    RowBox[{"a__", ",", "x_", ",", "b_", ",", "flavorIndices_"}], "]"}], "/;", 
   RowBox[{"b", "<=", 
    RowBox[{"Length", "[", "flavorIndices", "]"}]}]}], ":=", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     RowBox[{"D", "[", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"D", "[", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"BerezinIntegral", "[", 
               RowBox[{"a", ",", "x", ",", 
                RowBox[{"b", "+", "1"}], ",", "flavorIndices"}], "]"}], "/.", 
              RowBox[{
               RowBox[{"\[Phi]s", "[", 
                RowBox[{"x", ",", 
                 RowBox[{"flavorIndices", "[", 
                  RowBox[{"[", "b", "]"}], "]"}]}], "]"}], "->", 
               RowBox[{
                RowBox[{"\[Phi]s", "[", 
                 RowBox[{"x", ",", 
                  RowBox[{"flavorIndices", "[", 
                   RowBox[{"[", "b", "]"}], "]"}]}], "]"}], "+", 
                RowBox[{"\[Kappa]", " ", 
                 RowBox[{"\[Delta]\[Phi]s", "[", 
                  RowBox[{"x", ",", 
                   RowBox[{"flavorIndices", "[", 
                    RowBox[{"[", "b", "]"}], "]"}]}], "]"}]}]}]}]}], ")"}], 
            ",", "\[Kappa]"}], "]"}], "/.", 
          RowBox[{"\[Kappa]", "->", "0"}]}], "/.", 
         RowBox[{
          RowBox[{"\[Phi]", "[", 
           RowBox[{"x", ",", 
            RowBox[{"flavorIndices", "[", 
             RowBox[{"[", "b", "]"}], "]"}]}], "]"}], "->", 
          RowBox[{
           RowBox[{"\[Phi]", "[", 
            RowBox[{"x", ",", 
             RowBox[{"flavorIndices", "[", 
              RowBox[{"[", "b", "]"}], "]"}]}], "]"}], "+", 
           RowBox[{"\[Kappa]", " ", 
            RowBox[{"\[Delta]\[Phi]", "[", 
             RowBox[{"x", ",", 
              RowBox[{"flavorIndices", "[", 
               RowBox[{"[", "b", "]"}], "]"}]}], "]"}]}]}]}]}], ")"}], ",", 
       "\[Kappa]"}], "]"}], "/.", 
     RowBox[{"\[Kappa]", "->", "0"}]}], ")"}], "//.", 
   "WickOrder"}]}]}], "Input",
 CellChangeTimes->{{3.938844631041731*^9, 3.938844652844652*^9}, {
  3.938845110959017*^9, 3.9388451136499577`*^9}, {3.9388451554319935`*^9, 
  3.938845167911127*^9}},
 CellLabel->
  "In[776]:=",ExpressionUUID->"f7eb2b9d-76a1-cb40-9ccc-53c5cfeec643"],

Cell[CellGroupData[{

Cell["e.g.", "Subsubitem",
 CellChangeTimes->{{3.938838540073946*^9, 
  3.938838542522196*^9}},ExpressionUUID->"f0199b82-9234-c74b-bbab-\
d6a313f9539f"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "j"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "j"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"BerezinIntegral", "[", 
  RowBox[{"%", ",", "x", ",", "1", ",", 
   RowBox[{"{", 
    RowBox[{"i", ",", "j", ",", "k"}], "}"}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"wick", "[", 
   RowBox[{"{", "%", "}"}], "]"}], "//", "Expand"}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "\[Delta]rule"}]}], "Input",
 CellChangeTimes->{{3.9388449709251595`*^9, 3.93884497101993*^9}, {
  3.9388451770807095`*^9, 3.938845181707262*^9}},
 CellLabel->
  "In[783]:=",ExpressionUUID->"3c548884-0a27-2f49-92c8-f3e368cc3ef0"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "j"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "j"}], "]"}]}]], "Output",
 CellChangeTimes->{
  3.93883855594738*^9, 3.9388449727439575`*^9, 3.938845119945421*^9, {
   3.9388451783656807`*^9, 3.938845181928484*^9}},
 CellLabel->
  "Out[783]=",ExpressionUUID->"8bf27fee-b8f6-1440-9b9b-116f6429c003"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Delta]\[Phi]s", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]s", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]s", "[", 
   RowBox[{"x", ",", "j"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]", "[", 
   RowBox[{"x", ",", "j"}], "]"}]}]], "Output",
 CellChangeTimes->{
  3.93883855594738*^9, 3.9388449727439575`*^9, 3.938845119945421*^9, {
   3.9388451783656807`*^9, 3.9388451819913197`*^9}},
 CellLabel->
  "Out[784]=",ExpressionUUID->"87d57ee1-2881-104a-bbe2-153492e96e89"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"i", ",", "k"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"j", ",", "j"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"k", ",", "i"}], "]"}]}], "+", 
  RowBox[{
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"i", ",", "j"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"j", ",", "k"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"k", ",", "i"}], "]"}]}], "+", 
  RowBox[{
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"i", ",", "k"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"j", ",", "i"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"k", ",", "j"}], "]"}]}], "+", 
  RowBox[{
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"i", ",", "i"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"j", ",", "k"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"k", ",", "j"}], "]"}]}], "+", 
  RowBox[{
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"i", ",", "j"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"j", ",", "i"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"k", ",", "k"}], "]"}]}], "+", 
  RowBox[{
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"i", ",", "i"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"j", ",", "j"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"k", ",", "k"}], "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.93883855594738*^9, 3.9388449727439575`*^9, 3.938845119945421*^9, {
   3.9388451783656807`*^9, 3.9388451819913197`*^9}},
 CellLabel->
  "Out[785]=",ExpressionUUID->"f5c9092e-1d35-c04e-aabb-c629af299f51"],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", "n", " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}], "+", 
  RowBox[{"3", " ", 
   SuperscriptBox["n", "2"], " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}], "+", 
  RowBox[{
   SuperscriptBox["n", "3"], " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}]}]], "Output",
 CellChangeTimes->{
  3.93883855594738*^9, 3.9388449727439575`*^9, 3.938845119945421*^9, {
   3.9388451783656807`*^9, 3.938845182006855*^9}},
 CellLabel->
  "Out[786]=",ExpressionUUID->"4c0d78c0-e348-a042-a1e8-f884c57a0240"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 "Let\[CloseCurlyQuote]s try to compute a partition function, finally. We \
consider the simplest possible case: 2 vertices, x and y, with weight ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["\[Beta]", "xy"], "=", 
    RowBox[{
     SubscriptBox["\[Beta]", "yx"], "="}]}], TraditionalForm]],
  FormatType->TraditionalForm,ExpressionUUID->
  "ae53283c-0c9f-b949-967c-fc39d05df0c6"],
 "1 to go from one to the other and absorption rates ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["\[Lambda]", "x"], "=", 
    RowBox[{
     SubscriptBox["\[Lambda]", "y"], "="}]}], TraditionalForm]],
  FormatType->TraditionalForm,ExpressionUUID->
  "b73924f4-e0ef-b44c-a5e2-888ec2cdfccb"],
 "1 in each site. Therefore ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["r", "x"], "=", 
    RowBox[{
     SubscriptBox["r", "y"], "=", "2"}]}], TraditionalForm]],
  FormatType->TraditionalForm,ExpressionUUID->
  "efb64241-6146-7940-903b-a87d9863b726"]
}], "Item",
 CellChangeTimes->{{3.938838876490265*^9, 3.9388388902949486`*^9}, {
  3.9388390428117924`*^9, 3.938839094583315*^9}, {3.938839127255846*^9, 
  3.9388391634863586`*^9}},ExpressionUUID->"db43ab1b-a412-3b41-96d9-\
9c79f7cc0339"],

Cell[CellGroupData[{

Cell["Start by defining the integrand", "Subitem",
 CellChangeTimes->{{3.9388389889361095`*^9, 
  3.9388389996530857`*^9}},ExpressionUUID->"469b76a5-4d8e-254a-8eb8-\
8d49a87d239c"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"y", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"y", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"y", ",", "k"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "k"}], "]"}]}]}], ")"}], "**", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"2", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "i"}], "]"}]}]}]}], ")"}], "**", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"2", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}]}], ")"}], "**", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"2", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "k"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "k"}], "]"}]}]}]}], ")"}], "**", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"y", ",", "i"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"y", ",", "j"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "k"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"y", ",", "k"}], "]"}]}]}], ")"}], "**", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"2", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"y", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"y", ",", "i"}], "]"}]}]}]}], ")"}], "**", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"2", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"y", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"y", ",", "j"}], "]"}]}]}]}], ")"}], "**", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"2", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"y", ",", "k"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"y", ",", "k"}], "]"}]}]}]}], ")"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.938839006120058*^9, 3.938839039043432*^9}, {
   3.938839105331585*^9, 3.938839124540489*^9}, {3.938839170619276*^9, 
   3.9388391800602016`*^9}, {3.938844066216404*^9, 3.938844318436657*^9}, {
   3.9388443598572445`*^9, 3.9388444048924236`*^9}, 3.9388444604375362`*^9, {
   3.9388445810254307`*^9, 3.938844602512825*^9}, 3.938844727490719*^9, {
   3.9388452045355377`*^9, 3.938845225953844*^9}, {3.938845301949709*^9, 
   3.9388453203503265`*^9}, {3.938845381799116*^9, 3.9388453920409393`*^9}},
 CellLabel->
  "In[795]:=",ExpressionUUID->"06af4543-971b-4146-af22-571d7f2052f0"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Then order it and remove non-linear terms", "Subitem",
 CellChangeTimes->{{3.9388453950940304`*^9, 
  3.9388454150876293`*^9}},ExpressionUUID->"80e4ae53-ca1e-2e47-8cff-\
82e956bbd61a"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"y", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"y", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"y", ",", "k"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "k"}], "]"}]}]}], ")"}], "**", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"2", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "i"}], "]"}]}]}]}], ")"}], "**", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"2", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}]}], ")"}], "**", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"2", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "k"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "k"}], "]"}]}]}]}], ")"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", "//.", "BerezinOrder"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"BerezinIntegral", "[", 
  RowBox[{"%", ",", "x", ",", "1", ",", 
   RowBox[{"{", 
    RowBox[{"i", ",", "j", ",", "k"}], "}"}]}], "]"}]}], "Input",
 CellChangeTimes->{{3.938845432724245*^9, 3.9388454331093044`*^9}, {
  3.938845465898285*^9, 3.938845466769224*^9}, {3.9388455260505733`*^9, 
  3.938845557614107*^9}, {3.938845617248808*^9, 3.9388456380008316`*^9}, {
  3.938845712344782*^9, 3.938845729345413*^9}},
 CellLabel->
  "In[803]:=",ExpressionUUID->"48a6c27d-92e3-0d48-a17b-605e742243b3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"8", " ", 
   RowBox[{
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "j"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "k"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]", "[", 
     RowBox[{"x", ",", "j"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]", "[", 
     RowBox[{"x", ",", "k"}], "]"}]}]}], "+", 
  RowBox[{"8", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"y", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "k"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "k"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"y", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "k"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "k"}], "]"}]}]}], ")"}]}], "+", 
  RowBox[{"8", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"y", ",", "k"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "k"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "k"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "k"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"y", ",", "k"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "k"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "k"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "k"}], "]"}]}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{3.938845519970955*^9, 3.9388455598173122`*^9, 
  3.9388456398332577`*^9, 3.9388457340534325`*^9},
 CellLabel->
  "Out[805]=",ExpressionUUID->"a28cc674-5092-1f40-b6c3-5f729e61f09f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"y", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"y", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"y", ",", "k"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "k"}], "]"}]}]}], ")"}], "**", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"2", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "i"}], "]"}]}]}]}], ")"}], "**", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"2", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}]}], ")"}], "**", 
   RowBox[{"(", 
    RowBox[{"1", "+", 
     RowBox[{"2", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "k"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "k"}], "]"}]}]}]}], ")"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"BerezinIntegral", "[", 
   RowBox[{"%", ",", "1", ",", 
    RowBox[{"{", 
     RowBox[{"i", ",", "j", ",", "k"}], "}"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", "%", "}"}], "]"}], "//", "Expand"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "\[Delta]rule"}]}], "Input",
 CellChangeTimes->{{3.938839006120058*^9, 3.938839039043432*^9}, {
   3.938839105331585*^9, 3.938839124540489*^9}, {3.938839170619276*^9, 
   3.9388391800602016`*^9}, {3.938844066216404*^9, 3.938844318436657*^9}, {
   3.9388443598572445`*^9, 3.9388444048924236`*^9}, 3.9388444604375362`*^9, {
   3.9388445810254307`*^9, 3.938844602512825*^9}, {3.9388446836964226`*^9, 
   3.938844711813093*^9}},
 CellLabel->
  "In[757]:=",ExpressionUUID->"34348c0e-757b-8d48-8ba9-95dc1b6e34d3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"16", " ", "n", " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}], "+", 
  RowBox[{"24", " ", 
   SuperscriptBox["n", "2"], " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}], "+", 
  RowBox[{"8", " ", 
   SuperscriptBox["n", "3"], " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}], "+", 
  RowBox[{"24", " ", "n", " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "2"], " ", 
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"y", ",", "x"}], "]"}]}], "+", 
  RowBox[{"36", " ", 
   SuperscriptBox["n", "2"], " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "2"], " ", 
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"y", ",", "x"}], "]"}]}], "+", 
  RowBox[{"12", " ", 
   SuperscriptBox["n", "3"], " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "2"], " ", 
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"y", ",", "x"}], "]"}]}]}]], "Output",
 CellChangeTimes->{{3.938844270442768*^9, 3.9388443027579174`*^9}, 
   3.93884441766074*^9, 3.9388445827846737`*^9, {3.9388446722456417`*^9, 
   3.938844725300684*^9}},
 CellLabel->
  "Out[760]=",ExpressionUUID->"57d71033-61b5-794e-8113-efab05454a7e"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", "\t", 
  RowBox[{
   RowBox[{"WORKING", " ", "HERE"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", "\[IndentingNewLine]"}]}]], "Input",
 CellChangeTimes->{{3.9388385790282574`*^9, 3.9388385794213753`*^9}, {
  3.938839183871525*^9, 
  3.9388391896425533`*^9}},ExpressionUUID->"7f2e16d3-f5c2-e344-b8e4-\
06f471a846ac"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
We shall start by taking into account the fact that we will deal with \
fermions. Therefore, order matter. So, we will need the \
NonCommutativeMultiply. Let\[CloseCurlyQuote]s define some rules\
\>", "Subitem",
 CellChangeTimes->{{3.9386874808455143`*^9, 
  3.93868756705974*^9}},ExpressionUUID->"e2432991-1706-f74f-a69d-\
3646e896511e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Unprotect", "[", "NonCommutativeMultiply", "]"}], ";"}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"A_", "**", 
   RowBox[{"(", 
    RowBox[{"B_", "+", "C_"}], ")"}]}], ":=", 
  RowBox[{
   RowBox[{"A", "**", "B"}], "+", 
   RowBox[{"A", "**", "C"}]}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"B_", "+", "C_"}], ")"}], "**", "A_"}], ":=", 
  RowBox[{
   RowBox[{"B", "**", "A"}], "+", 
   RowBox[{"C", "**", "A"}]}]}], "\n", 
 RowBox[{
  RowBox[{"A_", "**", 
   RowBox[{"c_", "?", "NumberQ"}]}], ":=", 
  RowBox[{"c", " ", "A"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"c_", "?", "NumberQ"}], "**", "A_"}], ":=", 
  RowBox[{"c", " ", "A"}]}], "\n", 
 RowBox[{
  RowBox[{"A_", "**", 
   RowBox[{"(", 
    RowBox[{"B_", " ", 
     RowBox[{"c_", "?", "NumberQ"}]}], ")"}]}], ":=", 
  RowBox[{"c", " ", 
   RowBox[{"A", "**", "B"}]}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"A_", " ", 
     RowBox[{"c_", "?", "NumberQ"}]}], ")"}], "**", "B_"}], ":=", 
  RowBox[{"c", " ", 
   RowBox[{"A", "**", "B"}]}]}], "\n", 
 RowBox[{
  RowBox[{"A_", "**", 
   RowBox[{"(", 
    RowBox[{"B_", " ", "c_Rational"}], ")"}]}], ":=", 
  RowBox[{"c", " ", 
   RowBox[{"A", "**", "B"}]}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"A_", " ", "c_Rational"}], ")"}], "**", "B_"}], ":=", 
  RowBox[{"c", " ", 
   RowBox[{"A", "**", "B"}]}]}], "\n", 
 RowBox[{
  RowBox[{"A_", "**", 
   RowBox[{"(", 
    RowBox[{"B_", " ", "c_Power"}], ")"}]}], ":=", 
  RowBox[{"c", " ", 
   RowBox[{"A", "**", "B"}]}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"A_", " ", "c_Power"}], ")"}], "**", "B_"}], ":=", 
  RowBox[{"c", " ", 
   RowBox[{"A", "**", "B"}]}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"a_", " ", "*", " ", "A_"}], ")"}], "**", " ", "B_"}], ":=", 
  RowBox[{"a", "*", 
   RowBox[{"A", "**", "B"}]}]}], "\[IndentingNewLine]", 
 RowBox[{" ", 
  RowBox[{
   RowBox[{"A_", "**", " ", 
    RowBox[{"(", 
     RowBox[{"b_", "*", "B_"}], ")"}]}], ":=", 
   RowBox[{"b", "*", 
    RowBox[{"A", "**", "B"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"a_", " ", "*", " ", "A_"}], ")"}], "**", " ", 
   RowBox[{"(", 
    RowBox[{"b_", "*", "B_"}], ")"}]}], ":=", 
  RowBox[{"a", "*", "b", "*", 
   RowBox[{"A", "**", "B"}]}]}]}], "Input",
 CellChangeTimes->{{3.9386875707267265`*^9, 3.9386875707267265`*^9}, 
   3.9387495643518686`*^9},
 CellLabel->"In[1]:=",ExpressionUUID->"dab1b271-b914-cd45-bfe5-6d82f60844bc"],

Cell[CellGroupData[{

Cell["e.g.", "Subsubitem",
 CellChangeTimes->{{3.938687581555645*^9, 
  3.938687585890087*^9}},ExpressionUUID->"01277f60-a209-c944-8216-\
f6969aeb3c5e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"a", "**", 
  RowBox[{"(", 
   RowBox[{"b", "**", "c"}], ")"}]}]], "Input",
 CellChangeTimes->{{3.938687592139179*^9, 3.9386875961000366`*^9}},
 CellLabel->"In[19]:=",ExpressionUUID->"b1f845eb-235f-9c49-ad49-3896593c520e"],

Cell[BoxData[
 RowBox[{"a", "**", "b", "**", "c"}]], "Output",
 CellChangeTimes->{3.938687596862768*^9, 3.938771800412714*^9},
 CellLabel->"Out[19]=",ExpressionUUID->"780d3135-1d15-ad47-b934-0f0b0bbffd6f"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["which is different than a**c**b:", "Subsubitem",
 CellChangeTimes->{{3.9386876054170666`*^9, 
  3.938687622265291*^9}},ExpressionUUID->"5e02c822-822d-f44f-8cb0-\
d244f4b3cae5"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"a", "**", 
    RowBox[{"(", 
     RowBox[{"b", "**", "c"}], ")"}]}], "-", 
   RowBox[{"a", "**", 
    RowBox[{"(", 
     RowBox[{"c", "**", "b"}], ")"}]}]}], "//", "FullSimplify"}]], "Input",
 CellChangeTimes->{{3.9386876413644295`*^9, 3.9386876471933136`*^9}},
 CellLabel->
  "In[348]:=",ExpressionUUID->"eb9681ed-033f-8a4f-b58a-390e2df5ed5c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"a", "**", "b", "**", "c"}], "-", 
  RowBox[{"a", "**", "c", "**", "b"}]}]], "Output",
 CellChangeTimes->{3.938687647556631*^9},
 CellLabel->
  "Out[348]=",ExpressionUUID->"4448d62e-8c2e-7c46-a7c6-aab6381a658f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"a", "**", 
    RowBox[{"(", 
     RowBox[{"b", "**", "c"}], ")"}]}], "-", 
   RowBox[{"a", "**", 
    RowBox[{"(", 
     RowBox[{"b", "**", "c"}], ")"}]}]}], "//", "FullSimplify"}]], "Input",
 CellChangeTimes->{{3.9386876576902084`*^9, 3.9386876600640755`*^9}},
 CellLabel->
  "In[349]:=",ExpressionUUID->"fe4cf51e-6417-8d4d-995d-c287c9f20b53"],

Cell[BoxData["0"], "Output",
 CellChangeTimes->{3.93868766052458*^9},
 CellLabel->
  "Out[349]=",ExpressionUUID->"267d9ba1-aa61-124b-8777-f1d5de1bcd6e"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 "Then, we will need the Kroneker \[Delta], so let\[CloseCurlyQuote]s define \
some of its properties when the indices are contracted. Here ",
 Cell[BoxData[
  FormBox["n", TraditionalForm]],ExpressionUUID->
  "c207e37c-3e3d-f140-95b2-000ddb55aa79"],
 " is the number of flavours and the indices of the beginning of the Latin \
alphabet are the flavour indeces(a,b,c,i,j,k,...)"
}], "Subitem",
 CellChangeTimes->{{3.9386876648271503`*^9, 3.938687729442053*^9}, {
  3.938747853463049*^9, 
  3.938747916121521*^9}},ExpressionUUID->"1fb653f6-5aa4-4547-83b4-\
55cbd540fc50"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Delta]rule", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"\[Delta]", "[", 
        RowBox[{"a_", ",", "b_"}], "]"}], 
       RowBox[{"\[Delta]", "[", 
        RowBox[{"b_", ",", "c_"}], "]"}]}], "->", 
      RowBox[{"\[Delta]", "[", 
       RowBox[{"a", ",", "c"}], "]"}]}], ",", 
     RowBox[{
      RowBox[{"\[Delta]", "[", 
       RowBox[{"a_", ",", "a_"}], "]"}], "->", "n"}]}], "}"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.938678605304145*^9, 3.938678787718462*^9}, {
  3.938678977105157*^9, 3.938679021273773*^9}, {3.938680965833015*^9, 
  3.938680983313354*^9}, {3.938687474020847*^9, 3.938687474923767*^9}, {
  3.938687740121014*^9, 3.9386877548080635`*^9}, {3.938833523645527*^9, 
  3.938833526392559*^9}},
 CellLabel->
  "In[409]:=",ExpressionUUID->"acf93c3d-6a6b-4e9f-9eeb-5a7dd016d0a2"],

Cell[CellGroupData[{

Cell["e.g.", "Subsubitem",
 CellChangeTimes->{{3.9388335283007965`*^9, 
  3.9388335303833256`*^9}},ExpressionUUID->"7dd3b532-ceb1-df49-8f55-\
33e3e5bc718e"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"\[Delta]", "[", 
    RowBox[{"i", ",", "j"}], "]"}], 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"j", ",", "k"}], "]"}], 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"k", ",", "i"}], "]"}]}], "/.", 
  "\[Delta]rule"}], "\[IndentingNewLine]", 
 RowBox[{"%", "/.", "\[Delta]rule"}], "\[IndentingNewLine]", 
 RowBox[{"%", "/.", "\[Delta]rule"}]}], "Input",
 CellLabel->
  "In[410]:=",ExpressionUUID->"32761283-f4f2-1844-bc00-ac792eee4a01"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Delta]", "[", 
   RowBox[{"i", ",", "k"}], "]"}], " ", 
  RowBox[{"\[Delta]", "[", 
   RowBox[{"k", ",", "i"}], "]"}]}]], "Output",
 CellChangeTimes->{3.938833532140856*^9},
 CellLabel->
  "Out[410]=",ExpressionUUID->"7d19646c-350d-1641-828a-ba60b6733c36"],

Cell[BoxData[
 RowBox[{"\[Delta]", "[", 
  RowBox[{"i", ",", "i"}], "]"}]], "Output",
 CellChangeTimes->{3.938833532140856*^9},
 CellLabel->
  "Out[411]=",ExpressionUUID->"ff5e4a0a-bb5c-fe4c-8049-9c4b12ee4119"],

Cell[BoxData["n"], "Output",
 CellChangeTimes->{3.9388335321565228`*^9},
 CellLabel->
  "Out[412]=",ExpressionUUID->"d27fced8-cde6-8846-a15e-a465d641ce70"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Now, we define an (anti)commutation rules: we will deal with both fermions \
and bosons, so we will need graded commutators. Since we will have 2 fermions \
and 1 boson, it is simple to assign odd flavor indices to fermions and even \
ones to bosons. In this way, in the graded commutator rules, we will just \
have to rise (-1) to the power of the product of their indices: \
\>", "Subitem",
 CellChangeTimes->{{3.938685052704691*^9, 3.9386851903563957`*^9}, {
  3.938685474749634*^9, 3.9386855055535965`*^9}, {3.938685543995657*^9, 
  3.9386855501272793`*^9}, {3.938687811386503*^9, 3.9386878242931604`*^9}, {
  3.9386881246222105`*^9, 3.93868812680863*^9}, {3.938747924446884*^9, 
  3.938747931588793*^9}, {3.9387479690853252`*^9, 3.938748139109371*^9}, {
  3.9387481877090473`*^9, 
  3.9387481877171383`*^9}},ExpressionUUID->"e848b416-2eb5-1946-a789-\
3f144d18412e"],

Cell["x,y,...: space-time indices", "Subsubitem",
 CellChangeTimes->{{3.938685052704691*^9, 3.9386851903563957`*^9}, {
  3.938685474749634*^9, 3.9386855055535965`*^9}, {3.938685543995657*^9, 
  3.9386855501272793`*^9}, {3.938687811386503*^9, 3.9386878242931604`*^9}, {
  3.9386881246222105`*^9, 3.93868812680863*^9}, {3.938747924446884*^9, 
  3.938747931588793*^9}, {3.9387479690853252`*^9, 3.938748139109371*^9}, {
  3.938748188852316*^9, 
  3.9387482111836414`*^9}},ExpressionUUID->"fd810764-b7f9-5b4c-add2-\
c5b658329042"],

Cell["a,b,c,i,j,k,...: flavor indeces", "Subsubitem",
 CellChangeTimes->{{3.938685052704691*^9, 3.9386851903563957`*^9}, {
  3.938685474749634*^9, 3.9386855055535965`*^9}, {3.938685543995657*^9, 
  3.9386855501272793`*^9}, {3.938687811386503*^9, 3.9386878242931604`*^9}, {
  3.9386881246222105`*^9, 3.93868812680863*^9}, {3.938747924446884*^9, 
  3.938747931588793*^9}, {3.9387479690853252`*^9, 3.938748139109371*^9}, {
  3.938748188852316*^9, 
  3.938748222626545*^9}},ExpressionUUID->"99463568-8bba-c740-8969-\
122ee1a82812"],

Cell["\<\
 (this is in case of all fermions:  anticommute = {\[Phi][x_] ** \[Phi]s[x_] \
-> -\[Phi]s[x] ** \[Phi][x], \[Phi][x_] ** \[Phi]s[y_] -> \[Phi]s[y] ** \
\[Phi][x],  \[Phi][x_] ** \[Phi][x_] -> 0, \[Phi]s[x_] ** \[Phi]s[x_] -> 0,  \
\[Phi][x_] ** \[Phi][y_] /; x > y :>  \[Phi][y] ** \[Phi][x], \[Phi]s[x_] ** \
\[Phi]s[y_] /; x > y :> \[Phi]s[y] ** \[Phi]s[x]})\
\>", "Subsubitem",
 CellChangeTimes->{{3.938685052704691*^9, 3.9386851903563957`*^9}, {
  3.938685474749634*^9, 3.9386855055535965`*^9}, {3.938685543995657*^9, 
  3.9386855501272793`*^9}, {3.938687811386503*^9, 3.9386878242931604`*^9}, {
  3.9386881246222105`*^9, 3.93868812680863*^9}, {3.938747924446884*^9, 
  3.938747931588793*^9}, {3.9387479690853252`*^9, 3.9387481410844135`*^9}, {
  3.9387483408609257`*^9, 
  3.938748340876501*^9}},ExpressionUUID->"8006388a-2e3a-4c41-884c-\
68b0699eac2e"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Let\[CloseCurlyQuote]s construct the gradedComm rule step by step to check it \
on the way\
\>", "Subitem",
 CellChangeTimes->{{3.938685052704691*^9, 3.9386851903563957`*^9}, {
  3.938685474749634*^9, 3.9386855055535965`*^9}, {3.938685543995657*^9, 
  3.9386855501272793`*^9}, {3.938687811386503*^9, 3.9386878242931604`*^9}, {
  3.9386881246222105`*^9, 3.93868812680863*^9}, {3.938747924446884*^9, 
  3.938747931588793*^9}, {3.9387479690853252`*^9, 3.9387481410844135`*^9}, {
  3.9387483439633884`*^9, 
  3.9387483684530983`*^9}},ExpressionUUID->"7ebf3466-f37c-d841-b068-\
627040cffaea"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gradedComm", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{
     RowBox[{"A_", "[", 
      RowBox[{"x_", ",", "i_"}], "]"}], "**", 
     RowBox[{"B_", "[", 
      RowBox[{"y_", ",", "j_"}], "]"}]}], "->", 
    RowBox[{
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"-", "1"}], ")"}], 
      RowBox[{"i", "*", "j"}]], 
     RowBox[{
      RowBox[{"B", "[", 
       RowBox[{"y", ",", "j"}], "]"}], "**", 
      RowBox[{"A", "[", 
       RowBox[{"x", ",", "i"}], "]"}]}]}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.9386878355674953`*^9, 3.93868784317918*^9}, {
   3.938687874280573*^9, 3.938687918008234*^9}, {3.938687982194046*^9, 
   3.938688058329141*^9}, 3.938688122937288*^9, {3.938744170208521*^9, 
   3.9387441864120026`*^9}, {3.9387449044476833`*^9, 3.938744904746401*^9}, {
   3.938745366081892*^9, 3.938745390551674*^9}, {3.9387454244876347`*^9, 
   3.9387454589950886`*^9}, {3.938745490042858*^9, 3.938745505163149*^9}, {
   3.93874555393355*^9, 3.93874555841127*^9}, {3.9387456299182796`*^9, 
   3.9387456984921436`*^9}, 3.938748110268444*^9, {3.9387481490187645`*^9, 
   3.93874815324419*^9}, {3.9387482317601147`*^9, 3.938748331563011*^9}, {
   3.9387488209754086`*^9, 3.93874882527071*^9}},
 CellLabel->
  "In[247]:=",ExpressionUUID->"e0a3bd7a-94f4-e24c-a565-9b3c5c833150"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"A_", "[", 
     RowBox[{"x_", ",", "i_"}], "]"}], "**", 
    RowBox[{"B_", "[", 
     RowBox[{"y_", ",", "j_"}], "]"}]}], "\[Rule]", 
   RowBox[{
    SuperscriptBox[
     RowBox[{"(", 
      RowBox[{"-", "1"}], ")"}], 
     RowBox[{"i", " ", "j"}]], " ", 
    RowBox[{
     RowBox[{"B", "[", 
      RowBox[{"y", ",", "j"}], "]"}], "**", 
     RowBox[{"A", "[", 
      RowBox[{"x", ",", "i"}], "]"}]}]}]}], "}"}]], "Output",
 CellChangeTimes->{3.938687920586141*^9, 3.938688059417572*^9, 
  3.938688129539961*^9, 3.938744047927397*^9, 3.938744187261791*^9, 
  3.9387453924667797`*^9, 3.938745459509905*^9, 3.9387455059181194`*^9, 
  3.938745560206583*^9, 3.938745702232025*^9, 3.9387483342994976`*^9, 
  3.9387488257277412`*^9},
 CellLabel->
  "Out[247]=",ExpressionUUID->"70801d78-53ec-c949-ba2f-f709f2332a1e"]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.1 a fermion and a boson", "Subsubitem",
 CellChangeTimes->{{3.9386879234829063`*^9, 3.938687925643821*^9}, 
   3.938744120894766*^9, {3.938748508468773*^9, 
   3.9387485140019817`*^9}},ExpressionUUID->"1aab1665-7b8d-fc47-8d69-\
32113edf77eb"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "2"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "/.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.938687940396799*^9, 3.9386879655667267`*^9}, {
   3.938688064755932*^9, 3.9386880982080765`*^9}, 3.938688138284834*^9, {
   3.938744058139925*^9, 3.938744069842108*^9}, {3.9387449081039696`*^9, 
   3.938744919363184*^9}, {3.9387454020534153`*^9, 3.9387454025581665`*^9}, {
   3.9387454769380493`*^9, 3.9387454775284996`*^9}, {3.938745542771536*^9, 
   3.9387455646390324`*^9}, {3.9387483888049088`*^9, 3.938748448530573*^9}},
 CellLabel->
  "In[225]:=",ExpressionUUID->"4468721f-2fed-624b-81c5-292a462f613d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "2"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.938688075929844*^9, 3.938688098676491*^9}, {
   3.9386881317554445`*^9, 3.938688138428512*^9}, {3.9387440502771225`*^9, 
   3.938744070141842*^9}, 3.9387441915039177`*^9, 3.93874493137743*^9, {
   3.9387453955757027`*^9, 3.938745403326563*^9}, {3.938745461331949*^9, 
   3.9387454779551735`*^9}, 3.9387455083692055`*^9, {3.9387455435511913`*^9, 
   3.9387455649584312`*^9}, 3.9387457041211452`*^9, {3.9387484249454536`*^9, 
   3.938748449259596*^9}},
 CellLabel->
  "Out[225]=",ExpressionUUID->"5e366525-cf03-a94d-80ea-7b1c2f77f04c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.938688075929844*^9, 3.938688098676491*^9}, {
   3.9386881317554445`*^9, 3.938688138428512*^9}, {3.9387440502771225`*^9, 
   3.938744070141842*^9}, 3.9387441915039177`*^9, 3.93874493137743*^9, {
   3.9387453955757027`*^9, 3.938745403326563*^9}, {3.938745461331949*^9, 
   3.9387454779551735`*^9}, 3.9387455083692055`*^9, {3.9387455435511913`*^9, 
   3.9387455649584312`*^9}, 3.9387457041211452`*^9, {3.9387484249454536`*^9, 
   3.9387484492731895`*^9}},
 CellLabel->
  "Out[226]=",ExpressionUUID->"0c136c0a-dd29-834f-934e-e3ce9310693a"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.2 two fermions", "Subsubitem",
 CellChangeTimes->{{3.938744122981182*^9, 3.938744127375887*^9}, {
  3.9387485165822773`*^9, 
  3.938748525884678*^9}},ExpressionUUID->"66415254-b28f-6947-b615-\
03696a924e1b"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "/.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.938748471495598*^9, 3.938748471905636*^9}, {
  3.938748503187975*^9, 3.938748504632622*^9}},
 CellLabel->
  "In[231]:=",ExpressionUUID->"9df57405-5300-3d48-9154-5f0d39ab8be8"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}]], "Output",
 CellChangeTimes->{
  3.938748473076107*^9, {3.9387485051032734`*^9, 3.9387485306536884`*^9}},
 CellLabel->
  "Out[231]=",ExpressionUUID->"bfdf90da-157c-0843-b405-713b315f25b3"],

Cell[BoxData[
 RowBox[{"-", 
  RowBox[{
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "1"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "1"}], "]"}]}]}]], "Output",
 CellChangeTimes->{
  3.938748473076107*^9, {3.9387485051032734`*^9, 3.9387485306687717`*^9}},
 CellLabel->
  "Out[232]=",ExpressionUUID->"a5d1faaf-bc2f-4f46-bdda-b6297f9f20d0"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.3 two bosons", "Subsubitem",
 CellChangeTimes->{{3.938744122981182*^9, 3.938744127375887*^9}, {
  3.9387484915784893`*^9, 3.93874849170434*^9}, {3.9387485331539307`*^9, 
  3.93874853549646*^9}},ExpressionUUID->"be496b0f-7fb6-c946-b708-\
ef33c822906d"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"y", ",", "2"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "/.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.938748471495598*^9, 3.938748495738472*^9}, {
  3.938748538755018*^9, 3.93874853886561*^9}, {3.9387488336634045`*^9, 
  3.938748833962742*^9}},
 CellLabel->
  "In[248]:=",ExpressionUUID->"9b1a6691-c0b4-bc4a-afe3-78e6e4285e6b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"y", ",", "2"}], "]"}]}]], "Output",
 CellChangeTimes->{3.938748473076107*^9, 3.93874853933659*^9, 
  3.938748834699318*^9},
 CellLabel->
  "Out[248]=",ExpressionUUID->"42e8ca11-649d-924f-9965-bbf370baea5e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"y", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "2"}], "]"}]}]], "Output",
 CellChangeTimes->{3.938748473076107*^9, 3.93874853933659*^9, 
  3.9387488347150593`*^9},
 CellLabel->
  "Out[249]=",ExpressionUUID->"74042c08-9e10-234c-8d3d-1af10724baa3"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.4 Issue: if I use //., then it goes on indefinitely  ", "Subsubitem",
 CellChangeTimes->{{3.938744122981182*^9, 3.938744127375887*^9}, {
  3.938748560779915*^9, 3.9387485919644585`*^9}, {3.93874862548514*^9, 
  3.938748625697687*^9}},ExpressionUUID->"0b05d015-be23-b44b-88c3-\
5a496da368b4"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "2"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.938748471495598*^9, 3.938748471905636*^9}, {
  3.9387485955048504`*^9, 3.9387486186443825`*^9}},
 CellLabel->
  "In[239]:=",ExpressionUUID->"fa2adb12-0707-bb4b-bd5d-5de2e38e5759"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "2"}], "]"}]}]], "Output",
 CellChangeTimes->{
  3.938748473076107*^9, {3.938748595695156*^9, 3.9387486194677925`*^9}},
 CellLabel->
  "Out[239]=",ExpressionUUID->"cb6b6c2d-77b8-2947-a337-f121eb2a0736"],

Cell[BoxData[
 TemplateBox[{
  "ReplaceRepeated", "rrlim", 
   "\"Exiting after \\!\\(\\*RowBox[{RowBox[{\\\"\[Phi]\\\", \\\"[\\\", \
RowBox[{\\\"x\\\", \\\",\\\", \\\"1\\\"}], \\\"]\\\"}], \\\"**\\\", \
RowBox[{\\\"\[Phi]s\\\", \\\"[\\\", RowBox[{\\\"x\\\", \\\",\\\", \
\\\"2\\\"}], \\\"]\\\"}]}]\\) scanned \\!\\(\\*RowBox[{\\\"65536\\\"}]\\) \
times.\"", 2, 240, 7, 32113828319542407870, "Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{3.9387486198481894`*^9},
 CellLabel->
  "During evaluation of \
In[239]:=",ExpressionUUID->"24aea745-a365-7d48-90a5-c70ed796b01c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "2"}], "]"}]}]], "Output",
 CellChangeTimes->{
  3.938748473076107*^9, {3.938748595695156*^9, 3.938748619878933*^9}},
 CellLabel->
  "Out[240]=",ExpressionUUID->"2af7d8a0-195b-204e-804b-c57509d36466"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
First fix: let\[CloseCurlyQuote]s reorder them from smaller to greatest \
flavor index\
\>", "Subitem",
 CellChangeTimes->{{3.938744122981182*^9, 3.938744127375887*^9}, {
  3.938748653773796*^9, 
  3.9387487203765087`*^9}},ExpressionUUID->"2e87107c-9060-9c42-9a9d-\
fcb98eb949ca"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gradedComm", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"A_", "[", 
       RowBox[{"x_", ",", "i_"}], "]"}], "**", 
      RowBox[{"B_", "[", 
       RowBox[{"y_", ",", "j_"}], "]"}]}], "/;", 
     RowBox[{"i", ">", "j"}]}], ":>", 
    RowBox[{
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"-", "1"}], ")"}], 
      RowBox[{"i", "*", "j"}]], 
     RowBox[{
      RowBox[{"B", "[", 
       RowBox[{"y", ",", "j"}], "]"}], "**", 
      RowBox[{"A", "[", 
       RowBox[{"x", ",", "i"}], "]"}]}]}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.938748741153639*^9, 3.9387487824077797`*^9}},
 CellLabel->
  "In[252]:=",ExpressionUUID->"fb6a8ee1-8696-9646-b0e5-9c6050462b99"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"A_", "[", 
      RowBox[{"x_", ",", "i_"}], "]"}], "**", 
     RowBox[{"B_", "[", 
      RowBox[{"y_", ",", "j_"}], "]"}]}], "/;", 
    RowBox[{"i", ">", "j"}]}], "\[RuleDelayed]", 
   RowBox[{
    SuperscriptBox[
     RowBox[{"(", 
      RowBox[{"-", "1"}], ")"}], 
     RowBox[{"i", " ", "j"}]], " ", 
    RowBox[{
     RowBox[{"B", "[", 
      RowBox[{"y", ",", "j"}], "]"}], "**", 
     RowBox[{"A", "[", 
      RowBox[{"x", ",", "i"}], "]"}]}]}]}], "}"}]], "Output",
 CellChangeTimes->{{3.938748757035389*^9, 3.9387487848595543`*^9}, 
   3.9387488629408684`*^9},
 CellLabel->
  "Out[252]=",ExpressionUUID->"47a70612-63f9-844f-8871-f92867564a5a"]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.5 Different space-time coordinate", "Subsubitem",
 CellChangeTimes->{{3.9387487938645153`*^9, 3.9387487975106983`*^9}, {
  3.938748870479784*^9, 
  3.9387488820258694`*^9}},ExpressionUUID->"b3ab1685-59e8-9a49-9d50-\
c3c36b7a4777"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"y", ",", "1"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.938748471495598*^9, 3.938748471905636*^9}, {
  3.9387487623162823`*^9, 3.938748764778839*^9}, {3.9387488031661053`*^9, 
  3.9387488052919483`*^9}, {3.938748843494911*^9, 3.9387488439667473`*^9}},
 CellLabel->
  "In[253]:=",ExpressionUUID->"70dece0a-a7bf-d24d-84a1-bd5f359392f2"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"y", ",", "1"}], "]"}]}]], "Output",
 CellChangeTimes->{
  3.938748473076107*^9, {3.938748786589617*^9, 3.93874880583897*^9}, {
   3.9387488446268024`*^9, 3.9387488646877575`*^9}},
 CellLabel->
  "Out[253]=",ExpressionUUID->"e996484e-0460-f741-a454-d1306f441e91"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"y", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "2"}], "]"}]}]], "Output",
 CellChangeTimes->{
  3.938748473076107*^9, {3.938748786589617*^9, 3.93874880583897*^9}, {
   3.9387488446268024`*^9, 3.9387488647034855`*^9}},
 CellLabel->
  "Out[254]=",ExpressionUUID->"cf4b8c4a-b0e0-cd49-b0e3-5b7be67af28e"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.5 Same space-time coordinate", "Subsubitem",
 CellChangeTimes->{{3.9387487938645153`*^9, 3.9387487975106983`*^9}, {
  3.938748870479784*^9, 
  3.9387488934646072`*^9}},ExpressionUUID->"c7c5193d-4b88-4841-a697-\
8b1b176fcde8"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.938748471495598*^9, 3.938748471905636*^9}, {
  3.9387487623162823`*^9, 3.938748764778839*^9}, {3.9387488031661053`*^9, 
  3.9387488052919483`*^9}, {3.938748843494911*^9, 3.9387488439667473`*^9}, {
  3.938748895424757*^9, 3.938748895551573*^9}},
 CellLabel->
  "In[255]:=",ExpressionUUID->"5d6ae434-1dd8-4f47-95dc-9d79b384ddcb"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}]], "Output",
 CellChangeTimes->{
  3.938748473076107*^9, {3.938748786589617*^9, 3.93874880583897*^9}, {
   3.9387488446268024`*^9, 3.9387488646877575`*^9}, 3.9387488959506245`*^9},
 CellLabel->
  "Out[255]=",ExpressionUUID->"e4d36d10-781f-a64c-b438-da0a765b259a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "2"}], "]"}]}]], "Output",
 CellChangeTimes->{
  3.938748473076107*^9, {3.938748786589617*^9, 3.93874880583897*^9}, {
   3.9387488446268024`*^9, 3.9387488646877575`*^9}, 3.9387488959506245`*^9},
 CellLabel->
  "Out[256]=",ExpressionUUID->"83bfa19d-1c35-6c40-9175-d22879e96d81"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "3"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.938748922885481*^9, 3.9387489237261677`*^9}},
 CellLabel->
  "In[257]:=",ExpressionUUID->"d8773327-be1f-8841-b03b-c2210f3de906"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "3"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}]], "Output",
 CellChangeTimes->{3.938748924739805*^9},
 CellLabel->
  "Out[257]=",ExpressionUUID->"48e1647b-ae89-f54b-bb5a-470ea2f000e6"],

Cell[BoxData[
 RowBox[{"-", 
  RowBox[{
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "1"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "3"}], "]"}]}]}]], "Output",
 CellChangeTimes->{3.938748924739805*^9},
 CellLabel->
  "Out[258]=",ExpressionUUID->"faa32c96-04da-9946-b759-6f111316422a"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.6 More complex", "Subsubitem",
 CellChangeTimes->{{3.938749004828289*^9, 
  3.9387490163615856`*^9}},ExpressionUUID->"7711657c-4c6b-ec4b-aa48-\
a4da5bd43d9f"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "3"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"y", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"z", ",", "1"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.9387490255846653`*^9, 3.938749045541012*^9}},
 CellLabel->
  "In[259]:=",ExpressionUUID->"70ec4bb8-f8c9-2d41-bbaf-32375dcecc95"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "3"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"y", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"z", ",", "1"}], "]"}]}]], "Output",
 CellChangeTimes->{3.938749046000496*^9},
 CellLabel->
  "Out[259]=",ExpressionUUID->"91a30e85-649a-ba48-b112-4b68292ec020"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"z", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"y", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "3"}], "]"}]}]], "Output",
 CellChangeTimes->{3.938749046000496*^9},
 CellLabel->
  "Out[260]=",ExpressionUUID->"45d0fe4f-2480-1949-bf5c-59bad6bd43ca"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Now, we would like to implement the nihilpotency of the fields, i.e. a field \
squared equals zero (provided it has all the same indices)  \
\>", "Subitem",
 CellChangeTimes->{{3.938749080117182*^9, 3.9387491402082577`*^9}, {
  3.9387491711225243`*^9, 
  3.938749194388607*^9}},ExpressionUUID->"db1043a5-2f07-184d-a28c-\
52423bb9bed0"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gradedComm", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"A_", "[", 
        RowBox[{"x_", ",", "i_"}], "]"}], "**", 
       RowBox[{"B_", "[", 
        RowBox[{"y_", ",", "j_"}], "]"}]}], "/;", 
      RowBox[{"i", ">", "j"}]}], ":>", 
     RowBox[{
      SuperscriptBox[
       RowBox[{"(", 
        RowBox[{"-", "1"}], ")"}], 
       RowBox[{"i", "*", "j"}]], 
      RowBox[{
       RowBox[{"B", "[", 
        RowBox[{"y", ",", "j"}], "]"}], "**", 
       RowBox[{"A", "[", 
        RowBox[{"x", ",", "i"}], "]"}]}]}]}], ",", " ", 
    RowBox[{
     RowBox[{
      RowBox[{"A_", "[", 
       RowBox[{"x_", ",", "i_"}], "]"}], "**", " ", 
      RowBox[{"A_", "[", 
       RowBox[{"x_", ",", "i_"}], "]"}]}], "->", "0"}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.938749244602844*^9, 3.9387492684080276`*^9}},
 CellLabel->
  "In[261]:=",ExpressionUUID->"b90c349d-9317-2e4f-9c5f-81d2837836d2"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"A_", "[", 
       RowBox[{"x_", ",", "i_"}], "]"}], "**", 
      RowBox[{"B_", "[", 
       RowBox[{"y_", ",", "j_"}], "]"}]}], "/;", 
     RowBox[{"i", ">", "j"}]}], "\[RuleDelayed]", 
    RowBox[{
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"-", "1"}], ")"}], 
      RowBox[{"i", " ", "j"}]], " ", 
     RowBox[{
      RowBox[{"B", "[", 
       RowBox[{"y", ",", "j"}], "]"}], "**", 
      RowBox[{"A", "[", 
       RowBox[{"x", ",", "i"}], "]"}]}]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"A_", "[", 
      RowBox[{"x_", ",", "i_"}], "]"}], "**", 
     RowBox[{"A_", "[", 
      RowBox[{"x_", ",", "i_"}], "]"}]}], "\[Rule]", "0"}]}], "}"}]], "Output",
 CellChangeTimes->{3.938749271007181*^9},
 CellLabel->
  "Out[261]=",ExpressionUUID->"0b81e0fe-1ef3-e842-9aad-01eb6235ee01"]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.7 Nihilpotency check1", "Subsubitem",
 CellChangeTimes->{{3.938749004828289*^9, 3.9387490163615856`*^9}, {
  3.938749286038233*^9, 
  3.9387493107757816`*^9}},ExpressionUUID->"997768a4-0093-a840-b52b-\
dd789d18ceb4"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.9387490255846653`*^9, 3.938749045541012*^9}, {
  3.9387493007834377`*^9, 3.938749300861084*^9}, {3.9387493686032696`*^9, 
  3.9387493733423767`*^9}},
 CellLabel->
  "In[266]:=",ExpressionUUID->"0fcdd6e5-3753-5843-b1a0-bf76e168b503"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}]], "Output",
 CellChangeTimes->{3.9387493013188*^9, 3.9387493742574596`*^9},
 CellLabel->
  "Out[266]=",ExpressionUUID->"e2445ffc-1a9c-7846-91ac-e8c724de06c3"],

Cell[BoxData["0"], "Output",
 CellChangeTimes->{3.9387493013188*^9, 3.9387493742574596`*^9},
 CellLabel->
  "Out[267]=",ExpressionUUID->"cce489f7-d3f7-6f47-8ff6-a4ed38700869"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.8 Nihilpotency check2: different space-time indices", "Subsubitem",
 CellChangeTimes->{{3.938749004828289*^9, 3.9387490163615856`*^9}, {
  3.938749286038233*^9, 3.9387493502688866`*^9}, {3.938749409554373*^9, 
  3.9387494117801476`*^9}},ExpressionUUID->"d12d8c93-ca4a-3a4c-bb4f-\
5b46e26c87ba"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"z", ",", "1"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.9387490255846653`*^9, 3.938749045541012*^9}, {
  3.9387493007834377`*^9, 3.9387493307206936`*^9}, {3.93874938195759*^9, 
  3.938749391542076*^9}},
 CellLabel->
  "In[270]:=",ExpressionUUID->"97ca3764-465f-fe4b-aae4-a16a0ece9207"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"z", ",", "1"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.9387493013188*^9, 3.938749330971899*^9}, {
  3.9387493862445164`*^9, 3.9387493918552017`*^9}},
 CellLabel->
  "Out[270]=",ExpressionUUID->"cfe9f3c8-9aac-684b-8c83-6e430223ff66"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"z", ",", "1"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.9387493013188*^9, 3.938749330971899*^9}, {
  3.9387493862445164`*^9, 3.9387493918582077`*^9}},
 CellLabel->
  "Out[271]=",ExpressionUUID->"7b4816a2-7633-2e42-892f-71402c06d883"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.9 Nihilpotency check3: different flavor indices", "Subsubitem",
 CellChangeTimes->{{3.938749004828289*^9, 3.9387490163615856`*^9}, {
  3.938749286038233*^9, 3.9387493502688866`*^9}, {3.9387494022911587`*^9, 
  3.93874941525185*^9}},ExpressionUUID->"800c4c3c-1bde-a840-94b3-\
4b7e36277e32"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.9387490255846653`*^9, 3.938749045541012*^9}, {
  3.9387493007834377`*^9, 3.9387493307206936`*^9}, {3.93874938195759*^9, 
  3.9387494201945972`*^9}},
 CellLabel->
  "In[272]:=",ExpressionUUID->"9d5db3b6-1fc5-dc47-a56e-3effdf7d27c3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.9387493013188*^9, 3.938749330971899*^9}, {
  3.9387493862445164`*^9, 3.9387494210988655`*^9}},
 CellLabel->
  "Out[272]=",ExpressionUUID->"fe37493f-9fa2-6443-a50b-02209e2f6f17"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "2"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.9387493013188*^9, 3.938749330971899*^9}, {
  3.9387493862445164`*^9, 3.9387494210988655`*^9}},
 CellLabel->
  "Out[273]=",ExpressionUUID->"ecf6de2e-aad2-a94b-a9a8-60460209ceeb"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.10 Nihilpotency check3: different fields, same indeces", \
"Subsubitem",
 CellChangeTimes->{{3.938749004828289*^9, 3.9387490163615856`*^9}, {
  3.938749286038233*^9, 3.9387493502688866`*^9}, {3.9387494022911587`*^9, 
  3.938749447805767*^9}},ExpressionUUID->"e059b48b-c577-d64e-ba96-\
714fe9ca2709"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.9387490255846653`*^9, 3.938749045541012*^9}, {
  3.9387493007834377`*^9, 3.9387493307206936`*^9}, {3.93874938195759*^9, 
  3.938749444489994*^9}},
 CellLabel->
  "In[274]:=",ExpressionUUID->"919c60da-d33c-ae44-9faf-2c2d7665f0e2"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.9387493013188*^9, 3.938749330971899*^9}, {
   3.9387493862445164`*^9, 3.9387494210988655`*^9}, 3.938749451640379*^9},
 CellLabel->
  "Out[274]=",ExpressionUUID->"2d21c63f-2aa1-7742-b170-6075fb4e77b1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.9387493013188*^9, 3.938749330971899*^9}, {
   3.9387493862445164`*^9, 3.9387494210988655`*^9}, 3.938749451655924*^9},
 CellLabel->
  "Out[275]=",ExpressionUUID->"da15c705-67b1-3949-899d-7b5e3da10656"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
e.g.11 Complex case FAILS: it doesn\[CloseCurlyQuote]t iterate the \
commutation until the nihilpotent condition appear clear to him (see B*C term)\
\>", "Subsubitem",
 CellChangeTimes->{{3.938749004828289*^9, 3.9387490163615856`*^9}, {
  3.938749286038233*^9, 3.9387493502688866`*^9}, {3.9387494022911587`*^9, 
  3.9387494753576183`*^9}, {3.9387496898532696`*^9, 
  3.9387497621616497`*^9}},ExpressionUUID->"0e759555-58be-3946-9eeb-\
a56ba56240c7"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"(", 
   RowBox[{"A", "+", 
    RowBox[{"B", "*", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "1"}], "]"}]}]}]}], ")"}], "**", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"C", "*", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
    RowBox[{"D", "*", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "1"}], "]"}]}]}]}], ")"}], "**", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"F", "*", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "2"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
    RowBox[{"G", "*", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "3"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "1"}], "]"}]}]}]}], ")"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.9387490255846653`*^9, 3.938749045541012*^9}, {
  3.9387493007834377`*^9, 3.9387493307206936`*^9}, {3.93874938195759*^9, 
  3.938749444489994*^9}, {3.93874947902038*^9, 3.938749553209179*^9}, {
  3.9387496103434258`*^9, 3.93874963627339*^9}, {3.9387499613265038`*^9, 
  3.938749983623232*^9}},
 CellLabel->
  "In[303]:=",ExpressionUUID->"f998560b-b78a-2c42-b6ab-058dd1122b36"],

Cell[BoxData[
 RowBox[{
  RowBox[{"D", " ", "F", " ", 
   RowBox[{"A", "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
  RowBox[{"D", " ", "G", " ", 
   RowBox[{"A", "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "3"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
  RowBox[{"C", " ", "F", " ", 
   RowBox[{"A", "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
  RowBox[{"C", " ", "G", " ", 
   RowBox[{"A", "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "3"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
  RowBox[{"B", " ", "D", " ", "F", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
  RowBox[{"B", " ", "D", " ", "G", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "3"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
  RowBox[{"B", " ", "C", " ", "F", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
  RowBox[{"B", " ", "C", " ", "G", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "3"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}]}]], "Output",
 CellChangeTimes->{{3.9387493013188*^9, 3.938749330971899*^9}, {
   3.9387493862445164`*^9, 3.9387494210988655`*^9}, 3.938749451640379*^9, {
   3.938749539370575*^9, 3.93874957454405*^9}, {3.9387496286858273`*^9, 
   3.9387496365897026`*^9}, {3.9387499629068184`*^9, 3.9387499853218365`*^9}},
 CellLabel->
  "Out[303]=",ExpressionUUID->"8169205d-35ea-bb42-bdc0-bdc8c5417809"],

Cell[BoxData[
 RowBox[{
  RowBox[{"C", " ", "F", " ", 
   RowBox[{"A", "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}], "-", 
  RowBox[{"C", " ", "G", " ", 
   RowBox[{"A", "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "3"}], "]"}]}]}], "+", 
  RowBox[{"B", " ", "C", " ", "F", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}], "-", 
  RowBox[{"B", " ", "C", " ", "G", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "3"}], "]"}]}]}]}]], "Output",
 CellChangeTimes->{{3.9387493013188*^9, 3.938749330971899*^9}, {
   3.9387493862445164`*^9, 3.9387494210988655`*^9}, 3.938749451640379*^9, {
   3.938749539370575*^9, 3.93874957454405*^9}, {3.9387496286858273`*^9, 
   3.9387496365897026`*^9}, {3.9387499629068184`*^9, 3.938749985337473*^9}},
 CellLabel->
  "Out[304]=",ExpressionUUID->"13b375ab-d1f1-3f43-8ed4-4d48c1c86e52"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 "Second fix: let\[CloseCurlyQuote]s make him order the ",
 Cell[BoxData[
  FormBox["\[Phi]s", TraditionalForm]],
  FormatType->TraditionalForm,ExpressionUUID->
  "25480196-6013-5b44-ba8c-ad0cb75815cf"],
 " first"
}], "Subitem",
 CellChangeTimes->{{3.938749772121992*^9, 
  3.9387498060475388`*^9}},ExpressionUUID->"dc2d69d4-4094-b84c-bf83-\
966874ab650c"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"gradedComm", " ", "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"A_", "[", 
       RowBox[{"x_", ",", "i_"}], "]"}], "**", 
      RowBox[{"A_", "[", 
       RowBox[{"x_", ",", "i_"}], "]"}]}], "\[Rule]", "0"}], ",", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"A_", "[", 
         RowBox[{"x_", ",", "i_"}], "]"}], "**", 
        RowBox[{"B_", "[", 
         RowBox[{"y_", ",", "j_"}], "]"}]}], "/;", 
       RowBox[{"B", "\[Equal]", "\[Phi]s"}]}], "/;", 
      RowBox[{"A", "==", "\[Phi]"}]}], "\[RuleDelayed]", 
     RowBox[{
      SuperscriptBox[
       RowBox[{"(", 
        RowBox[{"-", "1"}], ")"}], 
       RowBox[{"i", " ", "j"}]], " ", 
      RowBox[{
       RowBox[{"B", "[", 
        RowBox[{"y", ",", "j"}], "]"}], "**", 
       RowBox[{"A", "[", 
        RowBox[{"x", ",", "i"}], "]"}]}]}]}], ",", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"A_", "[", 
         RowBox[{"x_", ",", "i_"}], "]"}], "**", 
        RowBox[{"B_", "[", 
         RowBox[{"y_", ",", "j_"}], "]"}]}], "/;", 
       RowBox[{"A", "==", "B"}]}], "/;", 
      RowBox[{"i", ">", "j"}]}], "\[RuleDelayed]", 
     RowBox[{
      SuperscriptBox[
       RowBox[{"(", 
        RowBox[{"-", "1"}], ")"}], 
       RowBox[{"i", " ", "j"}]], " ", 
      RowBox[{
       RowBox[{"B", "[", 
        RowBox[{"y", ",", "j"}], "]"}], "**", 
       RowBox[{"A", "[", 
        RowBox[{"x", ",", "i"}], "]"}]}]}]}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.9387500561643257`*^9, 3.9387500640131683`*^9}, 
   3.938750105349077*^9, {3.938750394843485*^9, 3.938750423952139*^9}, 
   3.9387505766684017`*^9, {3.9387506157707615`*^9, 3.9387506283163776`*^9}, 
   3.938750660191885*^9, {3.938750722755478*^9, 3.938750725409668*^9}, {
   3.9387507692902164`*^9, 3.938750950721676*^9}, {3.9387511637123528`*^9, 
   3.9387511662077274`*^9}, {3.9387512345580635`*^9, 3.9387512371816044`*^9}},
 CellLabel->"In[2]:=",ExpressionUUID->"256e46d6-be10-ce4e-932e-65ac99d73fa1"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"A_", "[", 
      RowBox[{"x_", ",", "i_"}], "]"}], "**", 
     RowBox[{"A_", "[", 
      RowBox[{"x_", ",", "i_"}], "]"}]}], "\[Rule]", "0"}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"A_", "[", 
        RowBox[{"x_", ",", "i_"}], "]"}], "**", 
       RowBox[{"B_", "[", 
        RowBox[{"y_", ",", "j_"}], "]"}]}], "/;", 
      RowBox[{"B", "\[Equal]", "\[Phi]s"}]}], "/;", 
     RowBox[{"A", "\[Equal]", "\[Phi]"}]}], "\[RuleDelayed]", 
    RowBox[{
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"-", "1"}], ")"}], 
      RowBox[{"i", " ", "j"}]], " ", 
     RowBox[{
      RowBox[{"B", "[", 
       RowBox[{"y", ",", "j"}], "]"}], "**", 
      RowBox[{"A", "[", 
       RowBox[{"x", ",", "i"}], "]"}]}]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"A_", "[", 
        RowBox[{"x_", ",", "i_"}], "]"}], "**", 
       RowBox[{"B_", "[", 
        RowBox[{"y_", ",", "j_"}], "]"}]}], "/;", 
      RowBox[{"A", "\[Equal]", "B"}]}], "/;", 
     RowBox[{"i", ">", "j"}]}], "\[RuleDelayed]", 
    RowBox[{
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"-", "1"}], ")"}], 
      RowBox[{"i", " ", "j"}]], " ", 
     RowBox[{
      RowBox[{"B", "[", 
       RowBox[{"y", ",", "j"}], "]"}], "**", 
      RowBox[{"A", "[", 
       RowBox[{"x", ",", "i"}], "]"}]}]}]}]}], "}"}]], "Output",
 CellChangeTimes->{{3.9387506187095394`*^9, 3.938750628647831*^9}, 
   3.93875066055575*^9, 3.9387507261946125`*^9, 3.938750775324913*^9, {
   3.9387508113603954`*^9, 3.938750826044426*^9}, {3.9387508698326645`*^9, 
   3.938750951778248*^9}, 3.938751166980812*^9, 3.9387512375674915`*^9, 
   3.93877178085553*^9},
 CellLabel->"Out[2]=",ExpressionUUID->"43a191d6-ed3b-6e4d-8a1f-540447712e2d"]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.12 check that it orders \[Phi]s first", "Subsubitem",
 CellChangeTimes->{{3.938749004828289*^9, 3.9387490163615856`*^9}, {
  3.938749286038233*^9, 3.9387493502688866`*^9}, {3.9387494022911587`*^9, 
  3.9387494753576183`*^9}, {3.9387496898532696`*^9, 3.9387497621616497`*^9}, {
  3.938750077477289*^9, 3.938750088133772*^9}, {3.9387502299186153`*^9, 
  3.9387502679201717`*^9}},ExpressionUUID->"d7ec8e85-dbc1-0a4f-b819-\
62d90acd7172"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.9387490255846653`*^9, 3.938749045541012*^9}, {
   3.9387493007834377`*^9, 3.9387493307206936`*^9}, {3.93874938195759*^9, 
   3.938749444489994*^9}, {3.93874947902038*^9, 3.938749553209179*^9}, {
   3.9387496103434258`*^9, 3.93874963627339*^9}, {3.9387499613265038`*^9, 
   3.938749983623232*^9}, {3.9387502799085083`*^9, 3.9387503577167816`*^9}, 
   3.9387504623402615`*^9, 3.938750630576372*^9, 3.938750682073118*^9},
 CellLabel->
  "In[405]:=",ExpressionUUID->"2ff58558-d8c1-d547-ab74-ff45e18714b6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.9387493013188*^9, 3.938749330971899*^9}, {
   3.9387493862445164`*^9, 3.9387494210988655`*^9}, 3.938749451640379*^9, {
   3.938749539370575*^9, 3.93874957454405*^9}, {3.9387496286858273`*^9, 
   3.9387496365897026`*^9}, {3.9387499629068184`*^9, 
   3.9387499853218365`*^9}, {3.9387500906304817`*^9, 3.938750109908495*^9}, 
   3.9387502162079887`*^9, 3.938750302285681*^9, {3.9387503457514935`*^9, 
   3.9387503585567646`*^9}, {3.938750401095625*^9, 3.938750462927252*^9}, 
   3.938750579145792*^9, {3.9387506229152584`*^9, 3.938750630808962*^9}, {
   3.9387506628081913`*^9, 3.9387506826608505`*^9}, 3.938750728392603*^9, 
   3.9387507783249397`*^9, {3.938750814510273*^9, 3.9387508280124474`*^9}, {
   3.93875087257913*^9, 3.9387509546029625`*^9}, 3.9387511702680073`*^9, 
   3.9387512401056232`*^9},
 CellLabel->
  "Out[405]=",ExpressionUUID->"e1859fb5-567e-ba45-87f1-67009873bbdf"],

Cell[BoxData[
 RowBox[{"-", 
  RowBox[{
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "1"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "1"}], "]"}]}]}]], "Output",
 CellChangeTimes->{{3.9387493013188*^9, 3.938749330971899*^9}, {
   3.9387493862445164`*^9, 3.9387494210988655`*^9}, 3.938749451640379*^9, {
   3.938749539370575*^9, 3.93874957454405*^9}, {3.9387496286858273`*^9, 
   3.9387496365897026`*^9}, {3.9387499629068184`*^9, 
   3.9387499853218365`*^9}, {3.9387500906304817`*^9, 3.938750109908495*^9}, 
   3.9387502162079887`*^9, 3.938750302285681*^9, {3.9387503457514935`*^9, 
   3.9387503585567646`*^9}, {3.938750401095625*^9, 3.938750462927252*^9}, 
   3.938750579145792*^9, {3.9387506229152584`*^9, 3.938750630808962*^9}, {
   3.9387506628081913`*^9, 3.9387506826608505`*^9}, 3.938750728392603*^9, 
   3.9387507783249397`*^9, {3.938750814510273*^9, 3.9387508280124474`*^9}, {
   3.93875087257913*^9, 3.9387509546029625`*^9}, 3.9387511702680073`*^9, 
   3.9387512401056232`*^9},
 CellLabel->
  "Out[406]=",ExpressionUUID->"feb251ac-49ab-4d43-a748-1460e2d2742f"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
e.g.13 check that it orders \[Phi]s first, or in flavor-index order otherwise\
\>", "Subsubitem",
 CellChangeTimes->{{3.938749004828289*^9, 3.9387490163615856`*^9}, {
  3.938749286038233*^9, 3.9387493502688866`*^9}, {3.9387494022911587`*^9, 
  3.9387494753576183`*^9}, {3.9387496898532696`*^9, 3.9387497621616497`*^9}, {
  3.938750077477289*^9, 3.938750088133772*^9}, {3.9387502299186153`*^9, 
  3.9387502679201717`*^9}, {3.938750501586605*^9, 
  3.938750518788265*^9}},ExpressionUUID->"51639722-1293-0f42-abf5-\
0f96ccd7fca0"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.9387490255846653`*^9, 3.938749045541012*^9}, {
   3.9387493007834377`*^9, 3.9387493307206936`*^9}, {3.93874938195759*^9, 
   3.938749444489994*^9}, {3.93874947902038*^9, 3.938749553209179*^9}, {
   3.9387496103434258`*^9, 3.93874963627339*^9}, {3.9387499613265038`*^9, 
   3.938749983623232*^9}, {3.9387502799085083`*^9, 3.9387503577167816`*^9}, 
   3.9387504623402615`*^9, {3.9387505233111916`*^9, 3.938750524982193*^9}},
 CellLabel->
  "In[407]:=",ExpressionUUID->"bb3d68f6-6b6c-f248-8f66-ea5324dccbb1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.9387493013188*^9, 3.938749330971899*^9}, {
   3.9387493862445164`*^9, 3.9387494210988655`*^9}, 3.938749451640379*^9, {
   3.938749539370575*^9, 3.93874957454405*^9}, {3.9387496286858273`*^9, 
   3.9387496365897026`*^9}, {3.9387499629068184`*^9, 
   3.9387499853218365`*^9}, {3.9387500906304817`*^9, 3.938750109908495*^9}, 
   3.9387502162079887`*^9, 3.938750302285681*^9, {3.9387503457514935`*^9, 
   3.9387503585567646`*^9}, {3.938750401095625*^9, 3.938750462927252*^9}, 
   3.9387505254688263`*^9, 3.9387507305558815`*^9, 3.938750780230856*^9, {
   3.9387508166826057`*^9, 3.938750830156418*^9}, 3.938750913354141*^9, 
   3.9387509566853504`*^9, 3.938751172724476*^9, 3.938751242287916*^9},
 CellLabel->
  "Out[407]=",ExpressionUUID->"ee0360bb-493e-3c47-acb8-ba765a0e18f6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "2"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.9387493013188*^9, 3.938749330971899*^9}, {
   3.9387493862445164`*^9, 3.9387494210988655`*^9}, 3.938749451640379*^9, {
   3.938749539370575*^9, 3.93874957454405*^9}, {3.9387496286858273`*^9, 
   3.9387496365897026`*^9}, {3.9387499629068184`*^9, 
   3.9387499853218365`*^9}, {3.9387500906304817`*^9, 3.938750109908495*^9}, 
   3.9387502162079887`*^9, 3.938750302285681*^9, {3.9387503457514935`*^9, 
   3.9387503585567646`*^9}, {3.938750401095625*^9, 3.938750462927252*^9}, 
   3.9387505254688263`*^9, 3.9387507305558815`*^9, 3.938750780230856*^9, {
   3.9387508166826057`*^9, 3.938750830156418*^9}, 3.938750913354141*^9, 
   3.9387509566853504`*^9, 3.938751172724476*^9, 3.938751242287916*^9},
 CellLabel->
  "Out[408]=",ExpressionUUID->"00dec61e-6301-e948-bd94-aa794e38d2fb"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.938750969937969*^9, 3.9387509714546204`*^9}},
 CellLabel->
  "In[409]:=",ExpressionUUID->"f8001e3d-eb88-1447-b9fc-52e641530035"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}]}]], "Output",
 CellChangeTimes->{3.938750971942028*^9, 3.938751177098139*^9, 
  3.938751247044916*^9},
 CellLabel->
  "Out[409]=",ExpressionUUID->"372c23c7-3a11-f24e-b65d-87674df3483d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "2"}], "]"}]}]], "Output",
 CellChangeTimes->{3.938750971942028*^9, 3.938751177098139*^9, 
  3.9387512470606174`*^9},
 CellLabel->
  "Out[410]=",ExpressionUUID->"aa349e28-124e-744e-abd0-a53a0125e075"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
e.g.14 check that it orders \[Phi]s first, or in flavor-index order \
otherwise, combined\
\>", "Subsubitem",
 CellChangeTimes->{{3.938749004828289*^9, 3.9387490163615856`*^9}, {
  3.938749286038233*^9, 3.9387493502688866`*^9}, {3.9387494022911587`*^9, 
  3.9387494753576183`*^9}, {3.9387496898532696`*^9, 3.9387497621616497`*^9}, {
  3.938750077477289*^9, 3.938750088133772*^9}, {3.9387502299186153`*^9, 
  3.9387502679201717`*^9}, {3.938750501586605*^9, 3.938750518788265*^9}, {
  3.938750996410803*^9, 
  3.9387510012278404`*^9}},ExpressionUUID->"6afdf4f9-8251-714d-a051-\
80109affbc15"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "2"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.9387490255846653`*^9, 3.938749045541012*^9}, {
   3.9387493007834377`*^9, 3.9387493307206936`*^9}, {3.93874938195759*^9, 
   3.938749444489994*^9}, {3.93874947902038*^9, 3.938749553209179*^9}, {
   3.9387496103434258`*^9, 3.93874963627339*^9}, {3.9387499613265038`*^9, 
   3.938749983623232*^9}, {3.9387502799085083`*^9, 3.9387503577167816`*^9}, 
   3.9387504623402615`*^9, {3.9387505233111916`*^9, 3.938750524982193*^9}, {
   3.9387510032668514`*^9, 3.93875105964777*^9}, {3.9387512776784153`*^9, 
   3.9387513290296135`*^9}},
 CellLabel->"In[20]:=",ExpressionUUID->"f0deb579-0e49-db49-9af6-0d259d937323"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "2"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "1"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "2"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.9387493013188*^9, 3.938749330971899*^9}, {
   3.9387493862445164`*^9, 3.9387494210988655`*^9}, 3.938749451640379*^9, {
   3.938749539370575*^9, 3.93874957454405*^9}, {3.9387496286858273`*^9, 
   3.9387496365897026`*^9}, {3.9387499629068184`*^9, 
   3.9387499853218365`*^9}, {3.9387500906304817`*^9, 3.938750109908495*^9}, 
   3.9387502162079887`*^9, 3.938750302285681*^9, {3.9387503457514935`*^9, 
   3.9387503585567646`*^9}, {3.938750401095625*^9, 3.938750462927252*^9}, 
   3.9387505254688263`*^9, 3.9387507305558815`*^9, 3.938750780230856*^9, {
   3.9387508166826057`*^9, 3.938750830156418*^9}, 3.938750913354141*^9, 
   3.9387509566853504`*^9, {3.938751015772377*^9, 3.9387510599640846`*^9}, 
   3.9387511792130146`*^9, 3.9387512490654316`*^9, {3.938751280577181*^9, 
   3.938751329818924*^9}, {3.9387717888697624`*^9, 3.9387718108339577`*^9}},
 CellLabel->"Out[20]=",ExpressionUUID->"2c65e00d-9042-cf45-897e-d6da3ee5f094"],

Cell[BoxData[
 RowBox[{"-", 
  RowBox[{
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "1"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "2"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "1"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "2"}], "]"}]}]}]], "Output",
 CellChangeTimes->{{3.9387493013188*^9, 3.938749330971899*^9}, {
   3.9387493862445164`*^9, 3.9387494210988655`*^9}, 3.938749451640379*^9, {
   3.938749539370575*^9, 3.93874957454405*^9}, {3.9387496286858273`*^9, 
   3.9387496365897026`*^9}, {3.9387499629068184`*^9, 
   3.9387499853218365`*^9}, {3.9387500906304817`*^9, 3.938750109908495*^9}, 
   3.9387502162079887`*^9, 3.938750302285681*^9, {3.9387503457514935`*^9, 
   3.9387503585567646`*^9}, {3.938750401095625*^9, 3.938750462927252*^9}, 
   3.9387505254688263`*^9, 3.9387507305558815`*^9, 3.938750780230856*^9, {
   3.9387508166826057`*^9, 3.938750830156418*^9}, 3.938750913354141*^9, 
   3.9387509566853504`*^9, {3.938751015772377*^9, 3.9387510599640846`*^9}, 
   3.9387511792130146`*^9, 3.9387512490654316`*^9, {3.938751280577181*^9, 
   3.938751329818924*^9}, {3.9387717888697624`*^9, 3.938771810849577*^9}},
 CellLabel->"Out[21]=",ExpressionUUID->"f78d632a-49a5-1b4e-99d7-b853e6491eb3"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
e.g.15 Complex case after fix: now it should work properly: no D, no B*C, no \
B*G, no B*F, i.e. no B\
\>", "Subsubitem",
 CellChangeTimes->{{3.938749004828289*^9, 3.9387490163615856`*^9}, {
  3.938749286038233*^9, 3.9387493502688866`*^9}, {3.9387494022911587`*^9, 
  3.9387494753576183`*^9}, {3.9387496898532696`*^9, 3.9387497621616497`*^9}, {
  3.9387513473985596`*^9, 3.9387514056834297`*^9}, {3.9387516912991695`*^9, 
  3.9387516989151*^9}, {3.938751748869871*^9, 
  3.938751753119585*^9}},ExpressionUUID->"4bc2c75a-3bd8-5b4c-84b3-\
444d4f1553f0"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"(", 
   RowBox[{"A", "+", 
    RowBox[{"B", "*", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "1"}], "]"}]}]}]}], ")"}], "**", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"C", "*", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
    RowBox[{"D", "*", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "1"}], "]"}]}]}]}], ")"}], "**", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"F", "*", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "2"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
    RowBox[{"G", "*", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "3"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "1"}], "]"}]}]}]}], ")"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}]}], "Input",
 CellChangeTimes->{{3.9387490255846653`*^9, 3.938749045541012*^9}, {
  3.9387493007834377`*^9, 3.9387493307206936`*^9}, {3.93874938195759*^9, 
  3.938749444489994*^9}, {3.93874947902038*^9, 3.938749553209179*^9}, {
  3.9387496103434258`*^9, 3.93874963627339*^9}, {3.9387499613265038`*^9, 
  3.938749983623232*^9}},
 CellLabel->
  "In[423]:=",ExpressionUUID->"7fec22ab-8d91-ca4e-b57d-79ae406e61d6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"D", " ", "F", " ", 
   RowBox[{"A", "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
  RowBox[{"D", " ", "G", " ", 
   RowBox[{"A", "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "3"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
  RowBox[{"C", " ", "F", " ", 
   RowBox[{"A", "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
  RowBox[{"C", " ", "G", " ", 
   RowBox[{"A", "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "3"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
  RowBox[{"B", " ", "D", " ", "F", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
  RowBox[{"B", " ", "D", " ", "G", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "3"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
  RowBox[{"B", " ", "C", " ", "F", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}], "+", 
  RowBox[{"B", " ", "C", " ", "G", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "3"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}]}]}]}]], "Output",
 CellChangeTimes->{3.9387513629184856`*^9},
 CellLabel->
  "Out[423]=",ExpressionUUID->"869905b1-195c-e74d-8b1e-d92510ced574"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"-", "C"}], " ", "F", " ", 
   RowBox[{"A", "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
  RowBox[{"C", " ", "G", " ", 
   RowBox[{"A", "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "3"}], "]"}]}]}]}]], "Output",
 CellChangeTimes->{3.9387513629184856`*^9},
 CellLabel->
  "Out[424]=",ExpressionUUID->"f1b94e2c-cee5-9749-b683-265a229a3807"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", "\[IndentingNewLine]"}]], "Input",
 CellChangeTimes->{{3.938752003706108*^9, 
  3.9387520039099655`*^9}},ExpressionUUID->"a65caf61-61cb-834a-bf0d-\
5115440345b9"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell["\<\
Now that the gradedComm seems to work fine, let\[CloseCurlyQuote]s implement \
the Berezin integration\
\>", "Item",
 CellChangeTimes->{{3.938749772121992*^9, 3.9387498060475388`*^9}, {
   3.9387518097076645`*^9, 3.938751812614084*^9}, {3.938751877362376*^9, 
   3.9387519251872177`*^9}, 3.938752721157785*^9, {3.9388305327793827`*^9, 
   3.9388305327950916`*^9}},ExpressionUUID->"13148127-a7d3-0646-b767-\
031a721b239e"],

Cell[CellGroupData[{

Cell["\<\
WE DO NOT ACTUALLY NEED ALL THIS COMMUTATORS: KAY\[CloseCurlyQuote]S TRICK: \
use bosons and give each loop a weight of n, then send n to -2!\
\>", "Item",
 CellChangeTimes->{{3.938749772121992*^9, 3.9387498060475388`*^9}, {
   3.9387518097076645`*^9, 3.938751812614084*^9}, {3.938751877362376*^9, 
   3.9387519251872177`*^9}, 3.938752721157785*^9, {3.9388305340152874`*^9, 
   3.938830582626217*^9}},ExpressionUUID->"00b39b3c-0541-d344-b383-\
55d53e3a1bad"],

Cell[CellGroupData[{

Cell["\<\
NB: what we called gradedComm so far, actually orders the field so that we \
can take their Berezin integral. Therefore, let\[CloseCurlyQuote]s call it \
BerezinOrder:\
\>", "Subitem",
 CellChangeTimes->{{3.938752724140781*^9, 
  3.938752776327486*^9}},ExpressionUUID->"0e203fef-0772-b249-9b9f-\
c55f301f1aeb"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"BerezinOrder", "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"A_", "[", 
       RowBox[{"x_", ",", "i_"}], "]"}], "**", 
      RowBox[{"A_", "[", 
       RowBox[{"x_", ",", "i_"}], "]"}]}], "\[Rule]", "0"}], ",", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"A_", "[", 
         RowBox[{"x_", ",", "i_"}], "]"}], "**", 
        RowBox[{"B_", "[", 
         RowBox[{"y_", ",", "j_"}], "]"}]}], "/;", 
       RowBox[{"B", "\[Equal]", "\[Phi]s"}]}], "/;", 
      RowBox[{"A", "==", "\[Phi]"}]}], "\[RuleDelayed]", 
     RowBox[{
      SuperscriptBox[
       RowBox[{"(", 
        RowBox[{"-", "1"}], ")"}], 
       RowBox[{"i", " ", "j"}]], " ", 
      RowBox[{
       RowBox[{"B", "[", 
        RowBox[{"y", ",", "j"}], "]"}], "**", 
       RowBox[{"A", "[", 
        RowBox[{"x", ",", "i"}], "]"}]}]}]}], ",", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"A_", "[", 
         RowBox[{"x_", ",", "i_"}], "]"}], "**", 
        RowBox[{"B_", "[", 
         RowBox[{"y_", ",", "j_"}], "]"}]}], "/;", 
       RowBox[{"A", "==", "B"}]}], "/;", 
      RowBox[{"i", ">", "j"}]}], "\[RuleDelayed]", 
     RowBox[{
      SuperscriptBox[
       RowBox[{"(", 
        RowBox[{"-", "1"}], ")"}], 
       RowBox[{"i", " ", "j"}]], " ", 
      RowBox[{
       RowBox[{"B", "[", 
        RowBox[{"y", ",", "j"}], "]"}], "**", 
       RowBox[{"A", "[", 
        RowBox[{"x", ",", "i"}], "]"}]}]}]}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.938752777574396*^9, 3.938752787037974*^9}, 
   3.93877087334552*^9},
 CellLabel->"In[1]:=",ExpressionUUID->"229b2a52-3a47-9b40-96fd-e1f719023dfb"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"A_", "[", 
      RowBox[{"x_", ",", "i_"}], "]"}], "**", 
     RowBox[{"A_", "[", 
      RowBox[{"x_", ",", "i_"}], "]"}]}], "\[Rule]", "0"}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"A_", "[", 
        RowBox[{"x_", ",", "i_"}], "]"}], "**", 
       RowBox[{"B_", "[", 
        RowBox[{"y_", ",", "j_"}], "]"}]}], "/;", 
      RowBox[{"B", "\[Equal]", "\[Phi]s"}]}], "/;", 
     RowBox[{"A", "\[Equal]", "\[Phi]"}]}], "\[RuleDelayed]", 
    RowBox[{
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"-", "1"}], ")"}], 
      RowBox[{"i", " ", "j"}]], " ", 
     RowBox[{
      RowBox[{"B", "[", 
       RowBox[{"y", ",", "j"}], "]"}], "**", 
      RowBox[{"A", "[", 
       RowBox[{"x", ",", "i"}], "]"}]}]}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"A_", "[", 
        RowBox[{"x_", ",", "i_"}], "]"}], "**", 
       RowBox[{"B_", "[", 
        RowBox[{"y_", ",", "j_"}], "]"}]}], "/;", 
      RowBox[{"A", "\[Equal]", "B"}]}], "/;", 
     RowBox[{"i", ">", "j"}]}], "\[RuleDelayed]", 
    RowBox[{
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"-", "1"}], ")"}], 
      RowBox[{"i", " ", "j"}]], " ", 
     RowBox[{
      RowBox[{"B", "[", 
       RowBox[{"y", ",", "j"}], "]"}], "**", 
      RowBox[{"A", "[", 
       RowBox[{"x", ",", "i"}], "]"}]}]}]}]}], "}"}]], "Output",
 CellChangeTimes->{3.938752787591469*^9, 3.938770878662575*^9},
 CellLabel->"Out[1]=",ExpressionUUID->"1c572c0f-6518-374a-b8f1-4709564e1aa7"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
We will also need to compute Berezin integrals, which basically means to \
derivate one with respect to all the fields and then sent them to zero, i.e. \
leaving the coefficients of the linear terms. However, to do this, we will \
need the field to be in the first position, so we will include the \
anticommutator inside the derivative. Also, in order to keep everything \
simpler, we will consider the fields with respect to which we want to take \
the derivative, and replace them with  \[Kappa]*themselves, and then take the \
derivative of \[Kappa]. \
\>", "Subitem",
 CellChangeTimes->{{3.9387442744789753`*^9, 3.938744599511933*^9}, {
   3.9387446329461308`*^9, 3.93874463727309*^9}, 
   3.938751975461012*^9},ExpressionUUID->"102839f3-2030-4243-aea3-\
e68c6f4da9ce"],

Cell[CellGroupData[{

Cell["\<\
To fix this, I think that we should use Kay\[CloseCurlyQuote]s code with \
\[Delta]\[Phi]\[CloseCurlyQuote]s:\
\>", "Subsubitem",
 CellChangeTimes->{{3.938746548456377*^9, 
  3.9387465931303883`*^9}},ExpressionUUID->"c8893ce3-0d07-914e-b328-\
2cb8d934845e"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"(", 
   RowBox[{"1", "+", 
    RowBox[{
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x", ",", "2"}], "]"}], "**", 
     RowBox[{"\[Phi]s", "[", 
      RowBox[{"x", ",", "2"}], "]"}]}], "+", 
    RowBox[{"HE", "*", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "2"}], "]"}]}]}]}], ")"}], "**", 
  RowBox[{"(", 
   RowBox[{"1", "+", 
    RowBox[{"RE", "*", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "2"}], "]"}]}]}]}], ")"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "gradedComm"}], "\[IndentingNewLine]", 
 RowBox[{"%", "/.", 
  RowBox[{
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "1"}], "]"}], "->", 
   RowBox[{
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "+", 
    RowBox[{"\[Kappa]", " ", 
     RowBox[{"\[Delta]\[Phi]s", "[", 
      RowBox[{"x", ",", "1"}], "]"}]}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"D", "[", 
   RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
  RowBox[{"\[Kappa]", "->", "0"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "/.", 
  RowBox[{
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "2"}], "]"}], "->", 
   RowBox[{
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "+", 
    RowBox[{"\[Kappa]", " ", 
     RowBox[{"\[Delta]\[Phi]s", "[", 
      RowBox[{"x", ",", "2"}], "]"}]}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"D", "[", 
   RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
  RowBox[{"\[Kappa]", "->", "0"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "/.", 
  RowBox[{
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "1"}], "]"}], "->", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "+", 
    RowBox[{"\[Kappa]", " ", 
     RowBox[{"\[Delta]\[Phi]", "[", 
      RowBox[{"x", ",", "1"}], "]"}]}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"D", "[", 
   RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
  RowBox[{"\[Kappa]", "->", "0"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "/.", 
  RowBox[{
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "2"}], "]"}], "->", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "+", 
    RowBox[{"\[Kappa]", " ", 
     RowBox[{"\[Delta]\[Phi]", "[", 
      RowBox[{"x", ",", "2"}], "]"}]}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"D", "[", 
   RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
  RowBox[{"\[Kappa]", "->", "0"}]}]}], "Input",
 CellChangeTimes->{{3.938746602220911*^9, 3.938746680860218*^9}, {
  3.9387470618014565`*^9, 3.938747065900074*^9}, {3.9387476262906437`*^9, 
  3.9387476350043983`*^9}, {3.938752009709692*^9, 3.938752092973711*^9}, {
  3.938752126432642*^9, 3.9387521637216988`*^9}, {3.938752614115801*^9, 
  3.938752653950653*^9}},
 CellLabel->
  "In[461]:=",ExpressionUUID->"43f18723-714d-bc40-85e5-bf2d03d6ed88"],

Cell[BoxData[
 RowBox[{"1", "+", 
  RowBox[{"RE", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
  RowBox[{
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "2"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "2"}], "]"}]}], "+", 
  RowBox[{"HE", " ", 
   RowBox[{
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
  RowBox[{"RE", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
  RowBox[{"HE", " ", "RE", " ", 
   RowBox[{
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}]}]], "Output",
 CellChangeTimes->{{3.9387466169516296`*^9, 3.938746681413767*^9}, 
   3.938746753399441*^9, 3.938746792150116*^9, 3.9387470669836884`*^9, 
   3.9387476359622593`*^9, {3.9387520645469704`*^9, 3.9387520942640133`*^9}, 
   3.9387521641668186`*^9, 3.9387526557514343`*^9, 3.938757983659727*^9},
 CellLabel->
  "Out[461]=",ExpressionUUID->"3e580377-125b-6a49-9ddb-73c64fe33eb6"],

Cell[BoxData[
 RowBox[{"1", "+", 
  RowBox[{"RE", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
  RowBox[{"HE", " ", 
   RowBox[{
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
  RowBox[{
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "2"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "2"}], "]"}]}], "+", 
  RowBox[{"HE", " ", "RE", " ", 
   RowBox[{
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}]}]], "Output",
 CellChangeTimes->{{3.9387466169516296`*^9, 3.938746681413767*^9}, 
   3.938746753399441*^9, 3.938746792150116*^9, 3.9387470669836884`*^9, 
   3.9387476359622593`*^9, {3.9387520645469704`*^9, 3.9387520942640133`*^9}, 
   3.9387521641668186`*^9, 3.9387526557514343`*^9, 3.938757983659727*^9},
 CellLabel->
  "Out[462]=",ExpressionUUID->"4a9541ea-f04c-ec4e-89aa-1e71eb0cc1e6"],

Cell[BoxData[
 RowBox[{"1", "+", 
  RowBox[{"RE", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
  RowBox[{"HE", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"\[Kappa]", " ", 
      RowBox[{
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "1"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "2"}], "]"}]}]}], ")"}]}], "+", 
  RowBox[{
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "2"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "2"}], "]"}]}], "+", 
  RowBox[{"HE", " ", "RE", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"\[Kappa]", " ", 
      RowBox[{
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "1"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "2"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "1"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "2"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "2"}], "]"}]}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{{3.9387466169516296`*^9, 3.938746681413767*^9}, 
   3.938746753399441*^9, 3.938746792150116*^9, 3.9387470669836884`*^9, 
   3.9387476359622593`*^9, {3.9387520645469704`*^9, 3.9387520942640133`*^9}, 
   3.9387521641668186`*^9, 3.9387526557514343`*^9, 3.938757983659727*^9},
 CellLabel->
  "Out[463]=",ExpressionUUID->"91515631-3c56-3e43-a225-1d8aaec8ed9c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"HE", " ", 
   RowBox[{
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
  RowBox[{"HE", " ", "RE", " ", 
   RowBox[{
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}]}]], "Output",
 CellChangeTimes->{{3.9387466169516296`*^9, 3.938746681413767*^9}, 
   3.938746753399441*^9, 3.938746792150116*^9, 3.9387470669836884`*^9, 
   3.9387476359622593`*^9, {3.9387520645469704`*^9, 3.9387520942640133`*^9}, 
   3.9387521641668186`*^9, 3.9387526557514343`*^9, 3.938757983659727*^9},
 CellLabel->
  "Out[464]=",ExpressionUUID->"3edf9067-af81-054b-a245-c783ce2657d4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"HE", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"\[Kappa]", " ", 
      RowBox[{
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "1"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
     RowBox[{
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "2"}], "]"}]}]}], ")"}]}], "+", 
  RowBox[{"HE", " ", "RE", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"\[Kappa]", " ", 
      RowBox[{
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "1"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "2"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "1"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
     RowBox[{
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "2"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "2"}], "]"}]}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{{3.9387466169516296`*^9, 3.938746681413767*^9}, 
   3.938746753399441*^9, 3.938746792150116*^9, 3.9387470669836884`*^9, 
   3.9387476359622593`*^9, {3.9387520645469704`*^9, 3.9387520942640133`*^9}, 
   3.9387521641668186`*^9, 3.9387526557514343`*^9, 3.938757983676157*^9},
 CellLabel->
  "Out[465]=",ExpressionUUID->"5be9d013-f8d1-bb46-9706-0def61f331f8"],

Cell[BoxData[
 RowBox[{
  RowBox[{"HE", " ", 
   RowBox[{
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
  RowBox[{"HE", " ", "RE", " ", 
   RowBox[{
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}]}]], "Output",
 CellChangeTimes->{{3.9387466169516296`*^9, 3.938746681413767*^9}, 
   3.938746753399441*^9, 3.938746792150116*^9, 3.9387470669836884`*^9, 
   3.9387476359622593`*^9, {3.9387520645469704`*^9, 3.9387520942640133`*^9}, 
   3.9387521641668186`*^9, 3.9387526557514343`*^9, 3.938757983676157*^9},
 CellLabel->
  "Out[466]=",ExpressionUUID->"cdf7cb15-270a-d44f-baa1-7148af4eeca3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"HE", " ", 
   RowBox[{
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "1"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
  RowBox[{"HE", " ", "RE", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"\[Kappa]", " ", 
      RowBox[{
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "1"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "2"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "1"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
     RowBox[{
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "2"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "2"}], "]"}]}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{{3.9387466169516296`*^9, 3.938746681413767*^9}, 
   3.938746753399441*^9, 3.938746792150116*^9, 3.9387470669836884`*^9, 
   3.9387476359622593`*^9, {3.9387520645469704`*^9, 3.9387520942640133`*^9}, 
   3.9387521641668186`*^9, 3.9387526557514343`*^9, 3.938757983676157*^9},
 CellLabel->
  "Out[467]=",ExpressionUUID->"b8acca72-b574-2e40-b26b-7ba4e9544a57"],

Cell[BoxData[
 RowBox[{"HE", " ", "RE", " ", 
  RowBox[{
   RowBox[{"\[Delta]\[Phi]s", "[", 
    RowBox[{"x", ",", "1"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]s", "[", 
    RowBox[{"x", ",", "2"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "1"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "2"}], "]"}]}]}]], "Output",
 CellChangeTimes->{{3.9387466169516296`*^9, 3.938746681413767*^9}, 
   3.938746753399441*^9, 3.938746792150116*^9, 3.9387470669836884`*^9, 
   3.9387476359622593`*^9, {3.9387520645469704`*^9, 3.9387520942640133`*^9}, 
   3.9387521641668186`*^9, 3.9387526557514343`*^9, 3.938757983676157*^9},
 CellLabel->
  "Out[468]=",ExpressionUUID->"a9e1aea4-3f6c-3e46-b8c7-bd1031579ee7"],

Cell[BoxData[
 RowBox[{"HE", " ", "RE", " ", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"\[Kappa]", " ", 
     RowBox[{
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "2"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "1"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "2"}], "]"}]}]}], "+", 
    RowBox[{
     RowBox[{"\[Delta]\[Phi]s", "[", 
      RowBox[{"x", ",", "1"}], "]"}], "**", 
     RowBox[{"\[Delta]\[Phi]s", "[", 
      RowBox[{"x", ",", "2"}], "]"}], "**", 
     RowBox[{"\[Delta]\[Phi]", "[", 
      RowBox[{"x", ",", "1"}], "]"}], "**", 
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x", ",", "2"}], "]"}]}]}], ")"}]}]], "Output",
 CellChangeTimes->{{3.9387466169516296`*^9, 3.938746681413767*^9}, 
   3.938746753399441*^9, 3.938746792150116*^9, 3.9387470669836884`*^9, 
   3.9387476359622593`*^9, {3.9387520645469704`*^9, 3.9387520942640133`*^9}, 
   3.9387521641668186`*^9, 3.9387526557514343`*^9, 3.938757983676157*^9},
 CellLabel->
  "Out[469]=",ExpressionUUID->"5daf955b-bda7-654d-8882-881753008282"],

Cell[BoxData[
 RowBox[{"HE", " ", "RE", " ", 
  RowBox[{
   RowBox[{"\[Delta]\[Phi]s", "[", 
    RowBox[{"x", ",", "1"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]s", "[", 
    RowBox[{"x", ",", "2"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "1"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "2"}], "]"}]}]}]], "Output",
 CellChangeTimes->{{3.9387466169516296`*^9, 3.938746681413767*^9}, 
   3.938746753399441*^9, 3.938746792150116*^9, 3.9387470669836884`*^9, 
   3.9387476359622593`*^9, {3.9387520645469704`*^9, 3.9387520942640133`*^9}, 
   3.9387521641668186`*^9, 3.9387526557514343`*^9, 3.938757983691948*^9},
 CellLabel->
  "Out[470]=",ExpressionUUID->"7b0b782a-0e58-e143-9b3a-97f2453232ce"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Let\[CloseCurlyQuote]s define a \[OpenCurlyDoubleQuote]Wick order, i.e. a \
rule that orders the fields to be ready to be plugged into the wick function\
\>", "Subitem",
 CellChangeTimes->{{3.938831173159975*^9, 3.9388311956651325`*^9}, {
  3.938835136225788*^9, 
  3.9388351800203686`*^9}},ExpressionUUID->"eddeee31-3283-5548-a3f1-\
c415a706c878"],

Cell[BoxData[
 RowBox[{
  RowBox[{"WickOrder", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"A_", "[", 
        RowBox[{"x_", ",", "i_"}], "]"}], "**", 
       RowBox[{"A_", "[", 
        RowBox[{"x_", ",", "i_"}], "]"}]}], "\[Rule]", "0"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"A_", "[", 
          RowBox[{"x_", ",", "i_"}], "]"}], "**", 
         RowBox[{"B_", "[", 
          RowBox[{"y_", ",", "j_"}], "]"}]}], "/;", 
        RowBox[{"B", "\[Equal]", "\[Delta]\[Phi]s"}]}], "/;", 
       RowBox[{"A", "==", "\[Delta]\[Phi]"}]}], "\[RuleDelayed]", " ", 
      RowBox[{
       RowBox[{"B", "[", 
        RowBox[{"y", ",", "j"}], "]"}], "**", 
       RowBox[{"A", "[", 
        RowBox[{"x", ",", "i"}], "]"}]}]}]}], "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.9388312020372047`*^9, 3.9388312183462048`*^9}, {
  3.9388351830072193`*^9, 3.938835184620882*^9}, {3.9388352898504124`*^9, 
  3.9388352905285378`*^9}},
 CellLabel->
  "In[450]:=",ExpressionUUID->"c0cd05c5-9104-6f4e-9015-70383a50b828"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Now, we shall trade \[Phi]\[Phi]s pairs with the delta function, through the \
Wick contractions. From the wickContraction notebook:\
\>", "Subitem",
 CellChangeTimes->{{3.938757799646055*^9, 3.938757858335161*^9}, {
  3.938757901464672*^9, 3.938757901622001*^9}, {3.938758128797888*^9, 
  3.9387581321406107`*^9}, {3.938830652570137*^9, 
  3.9388306719973755`*^9}},ExpressionUUID->"9e28fab5-c355-2948-99c0-\
d92bb702510c"],

Cell[CellGroupData[{

Cell["D\[Delta] stands for Dirac-\[Delta]", "Subsubitem",
 CellChangeTimes->{{3.938830996202585*^9, 
  3.9388310073553047`*^9}},ExpressionUUID->"2cad8f3c-a487-c443-a699-\
0ed0a954cf95"],

Cell[BoxData[{
 RowBox[{"ClearAll", "[", "wick", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x_", ",", "a_"}], "]"}], ",", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"y_", ",", "b_"}], "]"}]}], "}"}], "]"}], ":=", 
   RowBox[{
    RowBox[{"\[Delta]", "[", 
     RowBox[{"a", ",", "b"}], "]"}], 
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "y"}], "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x_", ",", "a_"}], "]"}], ",", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"y_", ",", "b_"}], "]"}]}], "}"}], "]"}], ":=", 
   RowBox[{
    RowBox[{"\[Delta]", "[", 
     RowBox[{"a", ",", "b"}], "]"}], 
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "y"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", "a__", "}"}], "]"}], ":=", 
   RowBox[{"Sum", "[", " ", 
    RowBox[{
     RowBox[{
      RowBox[{"wick", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"List", "[", "a", "]"}], "[", 
          RowBox[{"[", "1", "]"}], "]"}], " ", ",", 
         RowBox[{
          RowBox[{"List", "[", "a", "]"}], "[", 
          RowBox[{"[", 
           RowBox[{"index", "+", 
            RowBox[{
             RowBox[{"Length", "[", 
              RowBox[{"List", "[", "a", "]"}], "]"}], "/", "2"}]}], "]"}], 
          "]"}]}], "}"}], "]"}], " ", "*", " ", 
      RowBox[{"wick", "[", 
       RowBox[{"Flatten", "@", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"List", "[", "a", "]"}], "[", 
           RowBox[{"[", 
            RowBox[{"2", ";;", 
             RowBox[{
              RowBox[{"Length", "[", 
               RowBox[{"List", "[", "a", "]"}], "]"}], "/", "2"}]}], "]"}], 
           "]"}], ",", 
          RowBox[{
           RowBox[{"List", "[", "a", "]"}], "[", 
           RowBox[{"[", 
            RowBox[{
             RowBox[{"1", "+", 
              RowBox[{
               RowBox[{"Length", "[", 
                RowBox[{"List", "[", "a", "]"}], "]"}], "/", "2"}]}], ";;", 
             RowBox[{"index", "+", 
              RowBox[{
               RowBox[{"Length", "[", 
                RowBox[{"List", "[", "a", "]"}], "]"}], "/", "2"}], "-", 
              "1"}]}], "]"}], "]"}], ",", 
          RowBox[{
           RowBox[{"List", "[", "a", "]"}], "[", 
           RowBox[{"[", 
            RowBox[{
             RowBox[{"index", "+", 
              RowBox[{
               RowBox[{"Length", "[", 
                RowBox[{"List", "[", "a", "]"}], "]"}], "/", "2"}], "+", 
              "1"}], ";;"}], "]"}], "]"}]}], "}"}]}], "]"}]}], ",", 
     RowBox[{"{", 
      RowBox[{"index", ",", "1", ",", 
       RowBox[{
        RowBox[{"Length", "[", 
         RowBox[{"List", "[", "a", "]"}], "]"}], "/", "2"}]}], "}"}]}], " ", 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", 
     RowBox[{"a__", "+", "b__"}], "}"}], "]"}], ":=", 
   RowBox[{
    RowBox[{"wick", "[", 
     RowBox[{"{", "a", "}"}], "]"}], "+", 
    RowBox[{"wick", "[", 
     RowBox[{"{", "b", "}"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", 
     RowBox[{"a__", "+", "b__", "+", "c__"}], "}"}], "]"}], ":=", 
   RowBox[{
    RowBox[{"wick", "[", 
     RowBox[{"{", "a", "}"}], "]"}], "+", 
    RowBox[{"wick", "[", 
     RowBox[{"{", 
      RowBox[{"b", "+", "c"}], "}"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", 
     RowBox[{"A_", "*", 
      RowBox[{"a__", "**", "b__"}]}], "}"}], "]"}], ":=", 
   RowBox[{"A", "*", 
    RowBox[{"wick", "[", 
     RowBox[{"{", 
      RowBox[{"a", ",", "b"}], "}"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", 
     RowBox[{"a__", "**", "b__"}], "}"}], "]"}], ":=", 
   RowBox[{"wick", "[", 
    RowBox[{"{", 
     RowBox[{"a", ",", "b"}], "}"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{
  3.9387579432220387`*^9, 3.938830683845415*^9, {3.938830869408968*^9, 
   3.9388309433113537`*^9}, {3.938830983303009*^9, 3.938830988362379*^9}, 
   3.9388310509784737`*^9, {3.938831231066305*^9, 3.938831242362568*^9}, {
   3.9388313955086727`*^9, 3.9388313982715645`*^9}, {3.9388314547026653`*^9, 
   3.938831492166607*^9}, {3.938831595993828*^9, 3.938831623668976*^9}, {
   3.9388317529859333`*^9, 3.9388317684430904`*^9}, {3.938831818910324*^9, 
   3.9388318248092365`*^9}, {3.938831854953575*^9, 3.9388318661430016`*^9}, {
   3.938831992652981*^9, 3.938831998875969*^9}, {3.9388321751420956`*^9, 
   3.9388321792581806`*^9}, {3.938832281328392*^9, 3.9388322900717087`*^9}, {
   3.938832493313305*^9, 3.938832617622631*^9}, {3.938832709851551*^9, 
   3.938832785618868*^9}, {3.938833091318884*^9, 3.9388331139330482`*^9}, {
   3.9388331590345*^9, 3.938833163229124*^9}},
 CellLabel->
  "In[364]:=",ExpressionUUID->"93e16e20-bc24-3d4b-8e60-2506eaafc8d6"]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.", "Subsubitem",
 CellChangeTimes->{{3.9388310196177883`*^9, 
  3.9388310228907776`*^9}},ExpressionUUID->"da71245c-1d4c-3742-8d64-\
b698c1355f2d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"wick", "[", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\[Delta]\[Phi]", "[", 
     RowBox[{"x", ",", "a"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"y", ",", "c"}], "]"}]}], "}"}], "]"}]], "Input",
 CellChangeTimes->{{3.938830946420727*^9, 3.9388309683382664`*^9}, {
  3.9388312602283974`*^9, 3.938831260409998*^9}, {3.938831507085287*^9, 
  3.938831507568205*^9}, {3.9388315880201874`*^9, 3.938831589773981*^9}, {
  3.9388316263259563`*^9, 3.938831629184908*^9}},
 CellLabel->
  "In[320]:=",ExpressionUUID->"428254f8-c654-614f-aebd-73f802ae7887"],

Cell[BoxData[
 RowBox[{
  RowBox[{"D\[Delta]", "[", 
   RowBox[{"x", ",", "y"}], "]"}], " ", 
  RowBox[{"\[Delta]", "[", 
   RowBox[{"a", ",", "c"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.9388309689922447`*^9, 3.938830990130476*^9}, {
   3.938831248250862*^9, 3.938831260596792*^9}, 3.938831508078724*^9, {
   3.9388315901582775`*^9, 3.938831629568678*^9}, 3.938831770868372*^9, {
   3.9388321636081753`*^9, 3.938832181348921*^9}, 3.938832335623932*^9, 
   3.93883236632662*^9, 3.9388327883837223`*^9},
 CellLabel->
  "Out[320]=",ExpressionUUID->"34f05d35-f195-f94c-a7e1-935199a7ef21"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.", "Subsubitem",
 CellChangeTimes->{{3.9388310196177883`*^9, 
  3.9388310228907776`*^9}},ExpressionUUID->"4430260b-e3fa-574b-b04f-\
1d673d9ce676"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"wick", "[", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{
     RowBox[{"\[Delta]\[Phi]", "[", 
      RowBox[{"x", ",", "a"}], "]"}], "**", 
     RowBox[{"\[Delta]\[Phi]s", "[", 
      RowBox[{"y", ",", "b"}], "]"}]}], "+", 
    RowBox[{
     RowBox[{"\[Delta]\[Phi]s", "[", 
      RowBox[{"x", ",", "c"}], "]"}], "**", 
     RowBox[{"\[Delta]\[Phi]", "[", 
      RowBox[{"x", ",", "b"}], "]"}]}]}], "}"}], "]"}]], "Input",
 CellChangeTimes->{{3.938830946420727*^9, 3.9388309683382664`*^9}, {
  3.9388310433011513`*^9, 3.9388310782846985`*^9}, {3.938832323863743*^9, 
  3.938832324295574*^9}, {3.9388323595297985`*^9, 3.9388323790756226`*^9}},
 CellLabel->
  "In[321]:=",ExpressionUUID->"6e66414d-fa5d-ba47-814a-f60b9babf2d1"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"x", ",", "y"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"a", ",", "b"}], "]"}]}], "+", 
  RowBox[{
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"x", ",", "x"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"c", ",", "b"}], "]"}]}]}]], "Output",
 CellChangeTimes->{{3.9388309689922447`*^9, 3.938830990130476*^9}, {
   3.938831065738329*^9, 3.938831078846094*^9}, 3.9388312501934624`*^9, 
   3.9388322847056828`*^9, {3.9388323245846443`*^9, 3.9388323733932266`*^9}, 
   3.938832583310711*^9, 3.938832620550024*^9, 3.938832732957363*^9, {
   3.938832767672945*^9, 3.9388327905642357`*^9}},
 CellLabel->
  "Out[321]=",ExpressionUUID->"fb5a5707-7b0f-8e4e-9dcf-72b0e77faf91"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.", "Subsubitem",
 CellChangeTimes->{{3.9388310196177883`*^9, 
  3.9388310228907776`*^9}},ExpressionUUID->"3a2cfbdb-c83f-ae49-b5cf-\
5167b7da8887"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"wick", "[", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "c"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"y", ",", "b"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]", "[", 
     RowBox[{"x", ",", "a"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]", "[", 
     RowBox[{"x", ",", "b"}], "]"}]}], "}"}], "]"}]], "Input",
 CellChangeTimes->{{3.938830946420727*^9, 3.9388309683382664`*^9}, {
  3.9388310433011513`*^9, 3.9388310782846985`*^9}, {3.938832323863743*^9, 
  3.938832324295574*^9}, {3.9388323595297985`*^9, 3.938832403650013*^9}},
 CellLabel->
  "In[322]:=",ExpressionUUID->"f50b8ea6-bdd7-3542-a1d2-706a555902f9"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"x", ",", "x"}], "]"}], " ", 
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"y", ",", "x"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"b", ",", "b"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"c", ",", "a"}], "]"}]}], "+", 
  RowBox[{
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"x", ",", "x"}], "]"}], " ", 
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"y", ",", "x"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"b", ",", "a"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"c", ",", "b"}], "]"}]}]}]], "Output",
 CellChangeTimes->{{3.9388309689922447`*^9, 3.938830990130476*^9}, {
   3.938831065738329*^9, 3.938831078846094*^9}, 3.9388312501934624`*^9, 
   3.9388322847056828`*^9, {3.9388323245846443`*^9, 3.9388323733932266`*^9}, 
   3.938832405036564*^9, 3.938832792441078*^9},
 CellLabel->
  "Out[322]=",ExpressionUUID->"141b2974-bf82-974d-8656-068554acc078"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.", "Subsubitem",
 CellChangeTimes->{{3.9388310196177883`*^9, 
  3.9388310228907776`*^9}},ExpressionUUID->"d7a4ca0c-937d-6f4e-9a94-\
f0c9bf326cad"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"wick", "[", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{
     RowBox[{"\[Delta]\[Phi]s", "[", 
      RowBox[{"x", ",", "d"}], "]"}], "**", 
     RowBox[{"\[Delta]\[Phi]", "[", 
      RowBox[{"x", ",", "a"}], "]"}]}], "+", 
    RowBox[{
     RowBox[{"\[Delta]\[Phi]s", "[", 
      RowBox[{"x", ",", "b"}], "]"}], "**", 
     RowBox[{"\[Delta]\[Phi]", "[", 
      RowBox[{"x", ",", "d"}], "]"}]}], "+", 
    RowBox[{
     RowBox[{"\[Delta]\[Phi]s", "[", 
      RowBox[{"x", ",", "b"}], "]"}], "**", 
     RowBox[{"\[Delta]\[Phi]s", "[", 
      RowBox[{"y", ",", "b"}], "]"}], "**", 
     RowBox[{"\[Delta]\[Phi]", "[", 
      RowBox[{"x", ",", "a"}], "]"}], "**", 
     RowBox[{"\[Delta]\[Phi]", "[", 
      RowBox[{"y", ",", "c"}], "]"}]}]}], "}"}], "]"}]], "Input",
 CellChangeTimes->{{3.938830946420727*^9, 3.9388309683382664`*^9}, {
   3.9388310433011513`*^9, 3.938831107366371*^9}, {3.938831267752289*^9, 
   3.9388312679283543`*^9}, 3.938831380067381*^9, {3.9388320611448345`*^9, 
   3.938832066867634*^9}, {3.938832127285446*^9, 3.9388321513390617`*^9}, {
   3.9388321898281193`*^9, 3.938832193070097*^9}, {3.9388322286226616`*^9, 
   3.938832247625126*^9}, 3.9388324582448235`*^9, {3.938832633732622*^9, 
   3.9388326359070015`*^9}, {3.938832713631254*^9, 3.9388327154672184`*^9}, {
   3.938832809654337*^9, 3.938832861162571*^9}, {3.938833127282177*^9, 
   3.938833131691967*^9}, 3.9388331791305504`*^9},
 CellLabel->
  "In[373]:=",ExpressionUUID->"ad49c090-e65e-5348-97ca-70121901a9de"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"x", ",", "y"}], "]"}], " ", 
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"y", ",", "x"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"b", ",", "a"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"b", ",", "c"}], "]"}]}], "+", 
  RowBox[{
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"x", ",", "x"}], "]"}], " ", 
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"y", ",", "y"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"b", ",", "a"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"b", ",", "c"}], "]"}]}], "+", 
  RowBox[{
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"x", ",", "x"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"b", ",", "d"}], "]"}]}], "+", 
  RowBox[{
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"x", ",", "x"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"d", ",", "a"}], "]"}]}]}]], "Output",
 CellChangeTimes->{{3.9388309689922447`*^9, 3.938830990130476*^9}, {
   3.938831065738329*^9, 3.938831107829727*^9}, {3.938831252223362*^9, 
   3.938831268134033*^9}, {3.938831380940014*^9, 3.938831404380995*^9}, 
   3.938831437124895*^9, 3.9388314995870743`*^9, 3.9388316384367466`*^9, {
   3.938831721330368*^9, 3.9388317415751705`*^9}, 3.9388317782637787`*^9, 
   3.9388318344501495`*^9, 3.9388318719349003`*^9, {3.9388319298899403`*^9, 
   3.938831956940424*^9}, {3.9388320037394295`*^9, 3.9388320286777763`*^9}, 
   3.938832067364498*^9, {3.9388321199611855`*^9, 3.9388321518883877`*^9}, {
   3.9388321843908405`*^9, 3.938832193693075*^9}, {3.938832230894068*^9, 
   3.938832249511013*^9}, 3.9388324154889297`*^9, {3.938832459616644*^9, 
   3.93883246843099*^9}, 3.9388324996352787`*^9, {3.938832554354252*^9, 
   3.9388325861422024`*^9}, {3.9388326263513947`*^9, 
   3.9388326362628784`*^9}, {3.9388327158455524`*^9, 3.9388327262059727`*^9}, 
   3.9388327704651966`*^9, {3.938832802094679*^9, 3.9388328623891144`*^9}, {
   3.9388331174305687`*^9, 3.938833132182556*^9}, {3.9388331665140057`*^9, 
   3.9388331794469223`*^9}},
 CellLabel->
  "Out[373]=",ExpressionUUID->"2daab7cf-8d9f-c645-b576-e585ad211364"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.", "Subsubitem",
 CellChangeTimes->{{3.9388310196177883`*^9, 
  3.9388310228907776`*^9}},ExpressionUUID->"68388e8c-d46d-994d-99a5-\
ba6d6e90fcac"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"wick", "[", 
  RowBox[{"{", 
   RowBox[{"A", "*", 
    RowBox[{
     RowBox[{"\[Delta]\[Phi]s", "[", 
      RowBox[{"x", ",", "d"}], "]"}], "**", 
     RowBox[{"\[Delta]\[Phi]", "[", 
      RowBox[{"x", ",", "a"}], "]"}]}]}], "}"}], "]"}]], "Input",
 CellChangeTimes->{{3.938830946420727*^9, 3.9388309683382664`*^9}, {
   3.9388310433011513`*^9, 3.938831107366371*^9}, {3.938831267752289*^9, 
   3.9388312679283543`*^9}, 3.938831380067381*^9, {3.9388320611448345`*^9, 
   3.938832066867634*^9}, {3.938832127285446*^9, 3.9388321513390617`*^9}, {
   3.9388321898281193`*^9, 3.938832193070097*^9}, {3.9388322286226616`*^9, 
   3.938832247625126*^9}, 3.9388324582448235`*^9, {3.938832633732622*^9, 
   3.9388326359070015`*^9}, {3.938832713631254*^9, 3.9388327154672184`*^9}, {
   3.938832809654337*^9, 3.938832861162571*^9}, {3.938833127282177*^9, 
   3.938833131691967*^9}, {3.9388331791305504`*^9, 3.9388332120247135`*^9}},
 CellLabel->
  "In[374]:=",ExpressionUUID->"1112a531-5c0f-9741-86fc-2e379ec545fa"],

Cell[BoxData[
 RowBox[{"A", " ", 
  RowBox[{"D\[Delta]", "[", 
   RowBox[{"x", ",", "x"}], "]"}], " ", 
  RowBox[{"\[Delta]", "[", 
   RowBox[{"d", ",", "a"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.9388309689922447`*^9, 3.938830990130476*^9}, {
   3.938831065738329*^9, 3.938831107829727*^9}, {3.938831252223362*^9, 
   3.938831268134033*^9}, {3.938831380940014*^9, 3.938831404380995*^9}, 
   3.938831437124895*^9, 3.9388314995870743`*^9, 3.9388316384367466`*^9, {
   3.938831721330368*^9, 3.9388317415751705`*^9}, 3.9388317782637787`*^9, 
   3.9388318344501495`*^9, 3.9388318719349003`*^9, {3.9388319298899403`*^9, 
   3.938831956940424*^9}, {3.9388320037394295`*^9, 3.9388320286777763`*^9}, 
   3.938832067364498*^9, {3.9388321199611855`*^9, 3.9388321518883877`*^9}, {
   3.9388321843908405`*^9, 3.938832193693075*^9}, {3.938832230894068*^9, 
   3.938832249511013*^9}, 3.9388324154889297`*^9, {3.938832459616644*^9, 
   3.93883246843099*^9}, 3.9388324996352787`*^9, {3.938832554354252*^9, 
   3.9388325861422024`*^9}, {3.9388326263513947`*^9, 
   3.9388326362628784`*^9}, {3.9388327158455524`*^9, 3.9388327262059727`*^9}, 
   3.9388327704651966`*^9, {3.938832802094679*^9, 3.9388328623891144`*^9}, {
   3.9388331174305687`*^9, 3.938833132182556*^9}, {3.9388331665140057`*^9, 
   3.9388331794469223`*^9}, 3.938833212649143*^9},
 CellLabel->
  "Out[374]=",ExpressionUUID->"c4779d5d-1f74-f54a-8aec-5a7a5e722005"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["e.g.", "Subsubitem",
 CellChangeTimes->{{3.9388310196177883`*^9, 
  3.9388310228907776`*^9}},ExpressionUUID->"1529b33f-6418-4740-a01e-\
7fa798106db6"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"wick", "[", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"A", "*", 
     RowBox[{
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "d"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "a"}], "]"}]}]}], "+", 
    RowBox[{"B", "*", 
     RowBox[{
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "b"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "d"}], "]"}]}]}], "+", 
    RowBox[{"C", "*", 
     RowBox[{
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "b"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"y", ",", "b"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "a"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"y", ",", "c"}], "]"}]}]}]}], "}"}], "]"}]], "Input",
 CellChangeTimes->{{3.938830946420727*^9, 3.9388309683382664`*^9}, {
   3.9388310433011513`*^9, 3.938831107366371*^9}, {3.938831267752289*^9, 
   3.9388312679283543`*^9}, 3.938831380067381*^9, {3.9388320611448345`*^9, 
   3.938832066867634*^9}, {3.938832127285446*^9, 3.9388321513390617`*^9}, {
   3.9388321898281193`*^9, 3.938832193070097*^9}, {3.9388322286226616`*^9, 
   3.938832247625126*^9}, 3.9388324582448235`*^9, {3.938832633732622*^9, 
   3.9388326359070015`*^9}, {3.938832713631254*^9, 3.9388327154672184`*^9}, {
   3.938832809654337*^9, 3.938832861162571*^9}, {3.938833127282177*^9, 
   3.938833131691967*^9}, {3.9388331791305504`*^9, 3.938833251971586*^9}},
 CellLabel->
  "In[376]:=",ExpressionUUID->"a08403ce-14b7-c643-a06b-3ae0119dff82"],

Cell[BoxData[
 RowBox[{
  RowBox[{"C", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"D\[Delta]", "[", 
       RowBox[{"x", ",", "y"}], "]"}], " ", 
      RowBox[{"D\[Delta]", "[", 
       RowBox[{"y", ",", "x"}], "]"}], " ", 
      RowBox[{"\[Delta]", "[", 
       RowBox[{"b", ",", "a"}], "]"}], " ", 
      RowBox[{"\[Delta]", "[", 
       RowBox[{"b", ",", "c"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"D\[Delta]", "[", 
       RowBox[{"x", ",", "x"}], "]"}], " ", 
      RowBox[{"D\[Delta]", "[", 
       RowBox[{"y", ",", "y"}], "]"}], " ", 
      RowBox[{"\[Delta]", "[", 
       RowBox[{"b", ",", "a"}], "]"}], " ", 
      RowBox[{"\[Delta]", "[", 
       RowBox[{"b", ",", "c"}], "]"}]}]}], ")"}]}], "+", 
  RowBox[{"B", " ", 
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"x", ",", "x"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"b", ",", "d"}], "]"}]}], "+", 
  RowBox[{"A", " ", 
   RowBox[{"D\[Delta]", "[", 
    RowBox[{"x", ",", "x"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"d", ",", "a"}], "]"}]}]}]], "Output",
 CellChangeTimes->{{3.9388309689922447`*^9, 3.938830990130476*^9}, {
   3.938831065738329*^9, 3.938831107829727*^9}, {3.938831252223362*^9, 
   3.938831268134033*^9}, {3.938831380940014*^9, 3.938831404380995*^9}, 
   3.938831437124895*^9, 3.9388314995870743`*^9, 3.9388316384367466`*^9, {
   3.938831721330368*^9, 3.9388317415751705`*^9}, 3.9388317782637787`*^9, 
   3.9388318344501495`*^9, 3.9388318719349003`*^9, {3.9388319298899403`*^9, 
   3.938831956940424*^9}, {3.9388320037394295`*^9, 3.9388320286777763`*^9}, 
   3.938832067364498*^9, {3.9388321199611855`*^9, 3.9388321518883877`*^9}, {
   3.9388321843908405`*^9, 3.938832193693075*^9}, {3.938832230894068*^9, 
   3.938832249511013*^9}, 3.9388324154889297`*^9, {3.938832459616644*^9, 
   3.93883246843099*^9}, 3.9388324996352787`*^9, {3.938832554354252*^9, 
   3.9388325861422024`*^9}, {3.9388326263513947`*^9, 
   3.9388326362628784`*^9}, {3.9388327158455524`*^9, 3.9388327262059727`*^9}, 
   3.9388327704651966`*^9, {3.938832802094679*^9, 3.9388328623891144`*^9}, {
   3.9388331174305687`*^9, 3.938833132182556*^9}, {3.9388331665140057`*^9, 
   3.9388331794469223`*^9}, {3.938833212649143*^9, 3.9388332522558384`*^9}},
 CellLabel->
  "Out[376]=",ExpressionUUID->"5c30ef36-88f4-5e4e-bb0a-11bb4d4aa554"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["NOW IT SHOULD WORK", "Subsubitem",
 CellChangeTimes->{{3.9388332667299232`*^9, 
  3.938833279483816*^9}},ExpressionUUID->"52a6f898-77f4-7b42-a933-\
f3d7546a0898"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{
  3.938833228975628*^9},ExpressionUUID->"9ed8b755-7368-c94a-9434-\
67879ecb402a"],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", "\[IndentingNewLine]", "\[IndentingNewLine]", 
  "\[IndentingNewLine]", "\[IndentingNewLine]"}]], "Input",
 CellChangeTimes->{{3.9388326278835735`*^9, 3.938832628506319*^9}, {
  3.9388335988600864`*^9, 
  3.9388335995825233`*^9}},ExpressionUUID->"9e83870d-fd83-5141-b1ef-\
f2b85afec84e"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["First example of implementation of all the rules", "Item",
 CellChangeTimes->{{3.9388336043001156`*^9, 
  3.9388336151487064`*^9}},ExpressionUUID->"abfe7cff-ab6b-c044-92b0-\
2e3218ff43c8"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"(", 
   RowBox[{"1", "+", 
    RowBox[{
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x", ",", "i"}], "]"}], "**", 
     RowBox[{"\[Phi]s", "[", 
      RowBox[{"x", ",", "j"}], "]"}]}], "+", 
    RowBox[{"HE", "*", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}]}]}], ")"}], "**", 
  RowBox[{"(", 
   RowBox[{"RE", "*", 
    RowBox[{
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x", ",", "i"}], "]"}], "**", 
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x", ",", "j"}], "]"}]}]}], ")"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "/.", 
  RowBox[{
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "a_"}], "]"}], "->", 
   RowBox[{
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "a"}], "]"}], "+", 
    RowBox[{"\[Kappa]", " ", 
     RowBox[{"\[Delta]\[Phi]s", "[", 
      RowBox[{"x", ",", "a"}], "]"}]}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"D", "[", 
   RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
  RowBox[{"\[Kappa]", "->", "0"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "/.", 
  RowBox[{
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "a_"}], "]"}], "->", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "a"}], "]"}], "+", 
    RowBox[{"\[Kappa]", " ", 
     RowBox[{"\[Delta]\[Phi]", "[", 
      RowBox[{"x", ",", "a"}], "]"}]}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"D", "[", 
   RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
  RowBox[{"\[Kappa]", "->", "0"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "/.", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{
     RowBox[{"\[Phi]s", "[", 
      RowBox[{"x_", ",", "a_"}], "]"}], "->", 
     RowBox[{"\[Delta]\[Phi]s", "[", 
      RowBox[{"x", ",", "a"}], "]"}]}], ",", 
    RowBox[{
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x_", ",", "a_"}], "]"}], "->", 
     RowBox[{"\[Delta]\[Phi]", "[", 
      RowBox[{"x", ",", "a"}], "]"}]}]}], "}"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "WickOrder"}], "\[IndentingNewLine]", 
 RowBox[{"wick", "[", 
  RowBox[{"{", "%", "}"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "\[Delta]rule"}]}], "Input",
 CellChangeTimes->{{3.938746602220911*^9, 3.938746680860218*^9}, {
  3.938747061801457*^9, 3.938747065900074*^9}, {3.9387476262906437`*^9, 
  3.9387476350043983`*^9}, {3.938752009709692*^9, 3.938752092973711*^9}, {
  3.938752126432642*^9, 3.9387521637216983`*^9}, {3.938752614115801*^9, 
  3.938752653950653*^9}, {3.93883075911314*^9, 3.9388308215957146`*^9}, {
  3.9388317063588905`*^9, 3.93883171167684*^9}, {3.9388329991589756`*^9, 
  3.938833043115057*^9}, {3.938833292629387*^9, 3.93883330520998*^9}, {
  3.9388333470626945`*^9, 3.9388333580605106`*^9}, {3.9388333913512096`*^9, 
  3.938833443703207*^9}, {3.9388334760248413`*^9, 3.9388334979710503`*^9}, {
  3.938833538327305*^9, 3.938833564239113*^9}, {3.9388351965868073`*^9, 
  3.9388351975955315`*^9}},
 CellLabel->
  "In[451]:=",ExpressionUUID->"72b7bd21-3656-c843-843d-d8ce834fac9e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"RE", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
  RowBox[{"RE", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "j"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
  RowBox[{"HE", " ", "RE", " ", 
   RowBox[{
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "j"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "j"}], "]"}]}]}]}]], "Output",
 CellChangeTimes->{{3.9388307844130497`*^9, 3.938830822535263*^9}, 
   3.9388329406614494`*^9, {3.9388329997901707`*^9, 3.938833043427885*^9}, 
   3.9388333056379642`*^9, 3.9388333656266823`*^9, 3.938833444383564*^9, 
   3.938833480814125*^9, {3.9388335396963005`*^9, 3.938833564355608*^9}, 
   3.9388351985151405`*^9, 3.9388352967200584`*^9},
 CellLabel->
  "Out[451]=",ExpressionUUID->"a8833fdf-ee9f-4c4e-af94-b06264f594d7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"RE", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
  RowBox[{"RE", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"\[Kappa]", " ", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}]}], ")"}]}], "+", 
  RowBox[{"HE", " ", "RE", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      SuperscriptBox["\[Kappa]", "2"], " ", 
      RowBox[{
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{{3.9388307844130497`*^9, 3.938830822535263*^9}, 
   3.9388329406614494`*^9, {3.9388329997901707`*^9, 3.938833043427885*^9}, 
   3.9388333056379642`*^9, 3.9388333656266823`*^9, 3.938833444383564*^9, 
   3.938833480814125*^9, {3.9388335396963005`*^9, 3.938833564355608*^9}, 
   3.9388351985151405`*^9, 3.9388352967350655`*^9},
 CellLabel->
  "Out[452]=",ExpressionUUID->"786664bb-9d29-0b45-9fa0-12b84c974340"],

Cell[BoxData[
 RowBox[{
  RowBox[{"RE", " ", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "j"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
  RowBox[{"HE", " ", "RE", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{{3.9388307844130497`*^9, 3.938830822535263*^9}, 
   3.9388329406614494`*^9, {3.9388329997901707`*^9, 3.938833043427885*^9}, 
   3.9388333056379642`*^9, 3.9388333656266823`*^9, 3.938833444383564*^9, 
   3.938833480814125*^9, {3.9388335396963005`*^9, 3.938833564355608*^9}, 
   3.9388351985151405`*^9, 3.9388352967350655`*^9},
 CellLabel->
  "Out[453]=",ExpressionUUID->"608d64ce-7156-4d40-8867-1a0d0009cd5c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"RE", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      SuperscriptBox["\[Kappa]", "3"], " ", 
      RowBox[{
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{
      SuperscriptBox["\[Kappa]", "2"], " ", 
      RowBox[{
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{
      SuperscriptBox["\[Kappa]", "2"], " ", 
      RowBox[{
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{
      SuperscriptBox["\[Kappa]", "2"], " ", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}]}], ")"}]}], "+", 
  RowBox[{"HE", " ", "RE", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      SuperscriptBox["\[Kappa]", "2"], " ", 
      RowBox[{
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], "+", 
     RowBox[{
      SuperscriptBox["\[Kappa]", "2"], " ", 
      RowBox[{
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{
       RowBox[{"\[Phi]s", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]s", "[", 
        RowBox[{"x", ",", "j"}], "]"}], "**", 
       RowBox[{"\[Phi]", "[", 
        RowBox[{"x", ",", "i"}], "]"}], "**", 
       RowBox[{"\[Delta]\[Phi]", "[", 
        RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{{3.9388307844130497`*^9, 3.938830822535263*^9}, 
   3.9388329406614494`*^9, {3.9388329997901707`*^9, 3.938833043427885*^9}, 
   3.9388333056379642`*^9, 3.9388333656266823`*^9, 3.938833444383564*^9, 
   3.938833480814125*^9, {3.9388335396963005`*^9, 3.938833564355608*^9}, 
   3.9388351985151405`*^9, 3.9388352967350655`*^9},
 CellLabel->
  "Out[454]=",ExpressionUUID->"bd5722e1-a918-e742-b2c2-1c6b6033838e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"RE", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}]}], ")"}]}], "+", 
  RowBox[{"HE", " ", "RE", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}], "**", 
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}], "**", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{{3.9388307844130497`*^9, 3.938830822535263*^9}, 
   3.9388329406614494`*^9, {3.9388329997901707`*^9, 3.938833043427885*^9}, 
   3.9388333056379642`*^9, 3.9388333656266823`*^9, 3.938833444383564*^9, 
   3.938833480814125*^9, {3.9388335396963005`*^9, 3.938833564355608*^9}, 
   3.9388351985151405`*^9, 3.9388352967350655`*^9},
 CellLabel->
  "Out[455]=",ExpressionUUID->"82319cfb-f9b3-b54b-98f1-c900c8e8a79f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"3", " ", "RE", " ", 
   RowBox[{
    RowBox[{"\[Delta]\[Phi]", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "j"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]", "[", 
     RowBox[{"x", ",", "j"}], "]"}]}]}], "+", 
  RowBox[{"4", " ", "HE", " ", "RE", " ", 
   RowBox[{
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]s", "[", 
     RowBox[{"x", ",", "j"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Delta]\[Phi]", "[", 
     RowBox[{"x", ",", "j"}], "]"}]}]}]}]], "Output",
 CellChangeTimes->{{3.9388307844130497`*^9, 3.938830822535263*^9}, 
   3.9388329406614494`*^9, {3.9388329997901707`*^9, 3.938833043427885*^9}, 
   3.9388333056379642`*^9, 3.9388333656266823`*^9, 3.938833444383564*^9, 
   3.938833480814125*^9, {3.9388335396963005`*^9, 3.938833564355608*^9}, 
   3.9388351985151405`*^9, 3.9388352967507153`*^9},
 CellLabel->
  "Out[456]=",ExpressionUUID->"7dcb3bc3-3296-df4f-87af-8c85d6f786ea"],

Cell[BoxData[
 RowBox[{"4", " ", "HE", " ", "RE", " ", 
  RowBox[{
   RowBox[{"\[Delta]\[Phi]s", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]s", "[", 
    RowBox[{"x", ",", "j"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}]}]], "Output",
 CellChangeTimes->{{3.9388307844130497`*^9, 3.938830822535263*^9}, 
   3.9388329406614494`*^9, {3.9388329997901707`*^9, 3.938833043427885*^9}, 
   3.9388333056379642`*^9, 3.9388333656266823`*^9, 3.938833444383564*^9, 
   3.938833480814125*^9, {3.9388335396963005`*^9, 3.938833564355608*^9}, 
   3.9388351985151405`*^9, 3.9388352967507153`*^9},
 CellLabel->
  "Out[457]=",ExpressionUUID->"28029f7a-dd08-254f-8202-15c00c712f29"],

Cell[BoxData[
 RowBox[{"4", " ", "HE", " ", "RE", " ", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{
     SuperscriptBox[
      RowBox[{"D\[Delta]", "[", 
       RowBox[{"x", ",", "x"}], "]"}], "2"], " ", 
     RowBox[{"\[Delta]", "[", 
      RowBox[{"i", ",", "j"}], "]"}], " ", 
     RowBox[{"\[Delta]", "[", 
      RowBox[{"j", ",", "i"}], "]"}]}], "+", 
    RowBox[{
     SuperscriptBox[
      RowBox[{"D\[Delta]", "[", 
       RowBox[{"x", ",", "x"}], "]"}], "2"], " ", 
     RowBox[{"\[Delta]", "[", 
      RowBox[{"i", ",", "i"}], "]"}], " ", 
     RowBox[{"\[Delta]", "[", 
      RowBox[{"j", ",", "j"}], "]"}]}]}], ")"}]}]], "Output",
 CellChangeTimes->{{3.9388307844130497`*^9, 3.938830822535263*^9}, 
   3.9388329406614494`*^9, {3.9388329997901707`*^9, 3.938833043427885*^9}, 
   3.9388333056379642`*^9, 3.9388333656266823`*^9, 3.938833444383564*^9, 
   3.938833480814125*^9, {3.9388335396963005`*^9, 3.938833564355608*^9}, 
   3.9388351985151405`*^9, 3.9388352967582226`*^9},
 CellLabel->
  "Out[458]=",ExpressionUUID->"fcb72651-f4f2-e644-be14-18422032d1f0"],

Cell[BoxData[
 RowBox[{"4", " ", "HE", " ", "RE", " ", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"n", " ", 
     SuperscriptBox[
      RowBox[{"D\[Delta]", "[", 
       RowBox[{"x", ",", "x"}], "]"}], "2"]}], "+", 
    RowBox[{
     SuperscriptBox["n", "2"], " ", 
     SuperscriptBox[
      RowBox[{"D\[Delta]", "[", 
       RowBox[{"x", ",", "x"}], "]"}], "2"]}]}], ")"}]}]], "Output",
 CellChangeTimes->{{3.9388307844130497`*^9, 3.938830822535263*^9}, 
   3.9388329406614494`*^9, {3.9388329997901707`*^9, 3.938833043427885*^9}, 
   3.9388333056379642`*^9, 3.9388333656266823`*^9, 3.938833444383564*^9, 
   3.938833480814125*^9, {3.9388335396963005`*^9, 3.938833564355608*^9}, 
   3.9388351985151405`*^9, 3.9388352967582226`*^9},
 CellLabel->
  "Out[459]=",ExpressionUUID->"fbdfb572-04aa-264d-bac1-b7fe13003963"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
It appears to me that it is not computing properly the numerical prefactor. I \
have to account for it either by explicitly dividing or by doing the berezin \
integration one at the time, i.e.\
\>", "Subsubitem",
 CellChangeTimes->{{3.9388348915788555`*^9, 3.9388349044310894`*^9}, {
  3.9388349557173367`*^9, 3.9388349586947193`*^9}, {3.9388350157743664`*^9, 
  3.938835021722286*^9}, {3.9388350537496395`*^9, 
  3.9388350995052414`*^9}},ExpressionUUID->"172c87a3-c205-494c-85a7-\
530f0b46eef7"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "j"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "j"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", "/.", 
   RowBox[{
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "a_"}], "]"}], "->", 
    RowBox[{
     RowBox[{"\[Phi]s", "[", 
      RowBox[{"x", ",", "a"}], "]"}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "a"}], "]"}]}]}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
   RowBox[{"\[Kappa]", "->", "0"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", "/.", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "a_"}], "]"}], "->", 
    RowBox[{
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x", ",", "a"}], "]"}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "a"}], "]"}]}]}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"D", "[", 
   RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
  RowBox[{"\[Kappa]", "->", "0"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", "/.", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x_", ",", "a_"}], "]"}], "->", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "a"}], "]"}]}], ",", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x_", ",", "a_"}], "]"}], "->", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "a"}], "]"}]}]}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", "//.", "WickOrder"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", "%", "}"}], "]"}], "//", "Expand"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "\[Delta]rule"}]}], "Input",
 CellChangeTimes->{{3.938835223174671*^9, 3.9388352541471577`*^9}, {
  3.9388353107093315`*^9, 3.9388353255606155`*^9}, {3.9388354310127563`*^9, 
  3.93883543319709*^9}, {3.938835547039028*^9, 3.9388355618295803`*^9}},
 CellLabel->
  "In[547]:=",ExpressionUUID->"b53d3595-6043-9241-b9c3-f161314f74ef"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "j"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "j"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.938835315805496*^9, 3.9388353264149303`*^9}, 
   3.938835434671358*^9, 3.938835547386135*^9, 3.9388355776572304`*^9},
 CellLabel->
  "Out[547]=",ExpressionUUID->"118c3e1a-ee06-6a47-b3fd-b1fa2f42ada6"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]s", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "j"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]s", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "j"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]s", "[", 
    RowBox[{"x", ",", "j"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]s", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "j"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]s", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "j"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]s", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "j"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]s", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "j"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]s", "[", 
    RowBox[{"x", ",", "j"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}], "+", 
  RowBox[{
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Phi]s", "[", 
    RowBox[{"x", ",", "i"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]s", "[", 
    RowBox[{"x", ",", "j"}], "]"}], "**", 
   RowBox[{"\[Phi]", "[", 
    RowBox[{"x", ",", "k"}], "]"}], "**", 
   RowBox[{"\[Delta]\[Phi]", "[", 
    RowBox[{"x", ",", "j"}], "]"}]}]}]], "Output",
 CellChangeTimes->{{3.938835315805496*^9, 3.9388353264149303`*^9}, 
   3.938835434671358*^9, 3.938835547386135*^9, 3.9388355777177277`*^9},
 CellLabel->
  "Out[551]=",ExpressionUUID->"34fe84ea-f3c5-1b44-8456-0a61ebf251aa"],

Cell[BoxData[
 RowBox[{
  RowBox[{"18", " ", "n", " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}], "+", 
  RowBox[{"27", " ", 
   SuperscriptBox["n", "2"], " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}], "+", 
  RowBox[{"9", " ", 
   SuperscriptBox["n", "3"], " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}]}]], "Output",
 CellChangeTimes->{{3.938835315805496*^9, 3.9388353264149303`*^9}, 
   3.938835434671358*^9, 3.938835547386135*^9, 3.9388355777333393`*^9},
 CellLabel->
  "Out[555]=",ExpressionUUID->"7d4d0074-6a8d-af41-910e-35264773b0bc"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "j"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "j"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", "/.", 
   RowBox[{
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "a_"}], "]"}], "->", 
    RowBox[{
     RowBox[{"\[Delta]\[Phi]s", "[", 
      RowBox[{"x", ",", "a"}], "]"}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "a"}], "]"}]}]}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
   RowBox[{"\[Kappa]", "->", "0"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", "/.", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "a_"}], "]"}], "->", 
    RowBox[{
     RowBox[{"\[Delta]\[Phi]", "[", 
      RowBox[{"x", ",", "a"}], "]"}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "a"}], "]"}]}]}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
   RowBox[{"\[Kappa]", "->", "0"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", "//.", "WickOrder"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", "%", "}"}], "]"}], "//", "Expand"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "\[Delta]rule"}]}], "Input",
 CellChangeTimes->{{3.938835519574009*^9, 3.938835524863266*^9}},
 CellLabel->
  "In[521]:=",ExpressionUUID->"4360d4ca-6fbb-364c-86a5-72761b1806c5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "j"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "j"}], "]"}]}]], "Output",
 CellChangeTimes->{3.938835525935053*^9},
 CellLabel->
  "Out[521]=",ExpressionUUID->"655b6d3b-87a5-f44f-86c4-61ddddd0517a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"18", " ", "n", " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}], "+", 
  RowBox[{"27", " ", 
   SuperscriptBox["n", "2"], " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}], "+", 
  RowBox[{"9", " ", 
   SuperscriptBox["n", "3"], " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}]}]], "Output",
 CellChangeTimes->{3.938835525950697*^9},
 CellLabel->
  "Out[528]=",ExpressionUUID->"de4aa814-6c59-5c49-93f4-18fb608307a8"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["VS", "Subsubitem",
 CellChangeTimes->{{3.93883533547237*^9, 
  3.938835337621937*^9}},ExpressionUUID->"0dcd6f50-3e13-9945-87de-\
05ce154a0287"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "j"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "j"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", "/.", 
   RowBox[{
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "->", 
    RowBox[{
     RowBox[{"\[Phi]s", "[", 
      RowBox[{"x", ",", "i"}], "]"}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "i"}], "]"}]}]}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
   RowBox[{"\[Kappa]", "->", "0"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", "/.", 
   RowBox[{
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "j"}], "]"}], "->", 
    RowBox[{
     RowBox[{"\[Phi]s", "[", 
      RowBox[{"x", ",", "j"}], "]"}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}]}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
   RowBox[{"\[Kappa]", "->", "0"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", "/.", 
   RowBox[{
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "k"}], "]"}], "->", 
    RowBox[{
     RowBox[{"\[Phi]s", "[", 
      RowBox[{"x", ",", "k"}], "]"}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "k"}], "]"}]}]}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
   RowBox[{"\[Kappa]", "->", "0"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", "/.", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "->", 
    RowBox[{
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x", ",", "i"}], "]"}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "i"}], "]"}]}]}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
   RowBox[{"\[Kappa]", "->", "0"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", "/.", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "j"}], "]"}], "->", 
    RowBox[{
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x", ",", "j"}], "]"}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "j"}], "]"}]}]}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
   RowBox[{"\[Kappa]", "->", "0"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", "/.", 
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "k"}], "]"}], "->", 
    RowBox[{
     RowBox[{"\[Phi]", "[", 
      RowBox[{"x", ",", "k"}], "]"}], "+", 
     RowBox[{"\[Kappa]", " ", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "k"}], "]"}]}]}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{"%", ",", "\[Kappa]"}], "]"}], "/.", 
   RowBox[{"\[Kappa]", "->", "0"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", "/.", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"\[Phi]s", "[", 
       RowBox[{"x_", ",", "a_"}], "]"}], "->", 
      RowBox[{"\[Delta]\[Phi]s", "[", 
       RowBox[{"x", ",", "a"}], "]"}]}], ",", 
     RowBox[{
      RowBox[{"\[Phi]", "[", 
       RowBox[{"x_", ",", "a_"}], "]"}], "->", 
      RowBox[{"\[Delta]\[Phi]", "[", 
       RowBox[{"x", ",", "a"}], "]"}]}]}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "WickOrder"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"wick", "[", 
    RowBox[{"{", "%", "}"}], "]"}], "//", "Expand"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "\[Delta]rule"}]}], "Input",
 CellChangeTimes->{{3.9388353484532833`*^9, 3.9388354046325073`*^9}, {
   3.9388354384862823`*^9, 3.9388354406932087`*^9}, 3.9388379549737396`*^9},
 CellLabel->
  "In[619]:=",ExpressionUUID->"afd5defb-a56e-444a-b5a6-c1d739125e96"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "j"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "j"}], "]"}]}]], "Output",
 CellChangeTimes->{3.938835405090349*^9, 3.9388354409631367`*^9, 
  3.9388379552962055`*^9},
 CellLabel->
  "Out[619]=",ExpressionUUID->"931e354e-50aa-7540-ba1c-137fd6028962"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Delta]\[Phi]s", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]s", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]s", "[", 
   RowBox[{"x", ",", "j"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]", "[", 
   RowBox[{"x", ",", "j"}], "]"}]}]], "Output",
 CellChangeTimes->{3.938835405090349*^9, 3.9388354409631367`*^9, 
  3.938837955325264*^9},
 CellLabel->
  "Out[633]=",ExpressionUUID->"d5c59bb7-9157-a145-8299-8dc9696ac965"],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", "n", " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}], "+", 
  RowBox[{"3", " ", 
   SuperscriptBox["n", "2"], " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}], "+", 
  RowBox[{
   SuperscriptBox["n", "3"], " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}]}]], "Output",
 CellChangeTimes->{3.938835405090349*^9, 3.9388354409631367`*^9, 
  3.9388379553295193`*^9},
 CellLabel->
  "Out[635]=",ExpressionUUID->"390fb446-be2f-ab44-b3f3-d22d469d0ce0"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
As one can see by comparing the two approaches in the previous example, in \
the first case we get extra factors that we don\[CloseCurlyQuote]t get in the \
second. Let\[CloseCurlyQuote]s try to implement the second approach in an \
automated way\
\>", "Subsubitem",
 CellChangeTimes->{{3.938835447063711*^9, 3.938835511251831*^9}, {
  3.9388356459883003`*^9, 
  3.938835664493248*^9}},ExpressionUUID->"8132199e-e4e9-b047-a562-\
b2efbf4e6a31"],

Cell[BoxData[
 RowBox[{
  RowBox[{"flavorIndices", "=", 
   RowBox[{"{", 
    RowBox[{"i", ",", "j", ",", "k"}], "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.938835667798916*^9, 3.938835685912155*^9}},
 CellLabel->
  "In[556]:=",ExpressionUUID->"f310ec45-e27a-ee47-81dd-9ce7264b6019"],

Cell[BoxData[{
 RowBox[{"ClearAll", "[", "BerezinIntegral", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"BerezinIntegral", "[", 
     RowBox[{"a__", ",", "b_", ",", "flavorIndices_"}], "]"}], "/;", 
    RowBox[{"b", ">", 
     RowBox[{"Length", "[", "flavorIndices", "]"}]}]}], ":=", "a"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"BerezinIntegral", "[", 
    RowBox[{"a__", ",", "b_", ",", "flavorIndices_"}], "]"}], "/;", 
   RowBox[{"b", "<=", 
    RowBox[{"Length", "[", "flavorIndices", "]"}]}]}], ":=", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     RowBox[{"D", "[", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"D", "[", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"BerezinIntegral", "[", 
               RowBox[{"a", ",", 
                RowBox[{"b", "+", "1"}], ",", "flavorIndices"}], "]"}], "/.", 
              RowBox[{
               RowBox[{"\[Phi]s", "[", 
                RowBox[{"x", ",", 
                 RowBox[{"flavorIndices", "[", 
                  RowBox[{"[", "b", "]"}], "]"}]}], "]"}], "->", 
               RowBox[{
                RowBox[{"\[Phi]s", "[", 
                 RowBox[{"x", ",", 
                  RowBox[{"flavorIndices", "[", 
                   RowBox[{"[", "b", "]"}], "]"}]}], "]"}], "+", 
                RowBox[{"\[Kappa]", " ", 
                 RowBox[{"\[Delta]\[Phi]s", "[", 
                  RowBox[{"x", ",", 
                   RowBox[{"flavorIndices", "[", 
                    RowBox[{"[", "b", "]"}], "]"}]}], "]"}]}]}]}]}], ")"}], 
            ",", "\[Kappa]"}], "]"}], "/.", 
          RowBox[{"\[Kappa]", "->", "0"}]}], "/.", 
         RowBox[{
          RowBox[{"\[Phi]", "[", 
           RowBox[{"x", ",", 
            RowBox[{"flavorIndices", "[", 
             RowBox[{"[", "b", "]"}], "]"}]}], "]"}], "->", 
          RowBox[{
           RowBox[{"\[Phi]", "[", 
            RowBox[{"x", ",", 
             RowBox[{"flavorIndices", "[", 
              RowBox[{"[", "b", "]"}], "]"}]}], "]"}], "+", 
           RowBox[{"\[Kappa]", " ", 
            RowBox[{"\[Delta]\[Phi]", "[", 
             RowBox[{"x", ",", 
              RowBox[{"flavorIndices", "[", 
               RowBox[{"[", "b", "]"}], "]"}]}], "]"}]}]}]}]}], ")"}], ",", 
       "\[Kappa]"}], "]"}], "/.", 
     RowBox[{"\[Kappa]", "->", "0"}]}], ")"}], "//.", 
   "WickOrder"}]}]}], "Input",
 CellChangeTimes->{{3.938835842769409*^9, 3.938835865273779*^9}, 
   3.9388359075060253`*^9, {3.9388360470150375`*^9, 3.938836148508917*^9}, {
   3.9388361833692493`*^9, 3.93883623252886*^9}, {3.93883627968799*^9, 
   3.9388363235634403`*^9}, {3.9388378633022747`*^9, 3.93883789034165*^9}, 
   3.938838034305992*^9, {3.9388381085286903`*^9, 3.9388381456286125`*^9}},
 CellLabel->
  "In[658]:=",ExpressionUUID->"616ed493-efb9-fa46-bcb8-812f9995ab52"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"BerezinIntegral", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "k"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "i"}], "]"}], "**", 
    RowBox[{"\[Phi]s", "[", 
     RowBox[{"x", ",", "j"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "k"}], "]"}], "**", 
    RowBox[{"\[Phi]", "[", 
     RowBox[{"x", ",", "j"}], "]"}]}], ",", "1", ",", 
   RowBox[{"{", 
    RowBox[{"i", ",", "j", ",", "k"}], "}"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.938837487852316*^9, 3.9388375342996216`*^9}, {
  3.9388375789139423`*^9, 3.938837582053274*^9}, {3.9388378375086956`*^9, 
  3.938837837715925*^9}, {3.93883789741004*^9, 3.938837903185438*^9}, {
  3.9388381226253986`*^9, 3.938838191323805*^9}},
 CellLabel->
  "In[664]:=",ExpressionUUID->"ea7bfa85-5136-ba41-aa1b-7aa35ad2a892"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Delta]\[Phi]s", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]s", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]s", "[", 
   RowBox[{"x", ",", "j"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]", "[", 
   RowBox[{"x", ",", "j"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.9388375001269093`*^9, 3.938837535616173*^9}, {
   3.938837576706579*^9, 3.938837582331564*^9}, {3.9388378221063175`*^9, 
   3.9388378379687977`*^9}, 3.9388379036272697`*^9, 3.938837934674635*^9, {
   3.9388379667613907`*^9, 3.9388379771720467`*^9}, {3.938838011835161*^9, 
   3.9388380364033985`*^9}, {3.938838149170416*^9, 3.9388381921634426`*^9}},
 CellLabel->
  "Out[664]=",ExpressionUUID->"1dc8062f-1020-c445-84a3-fae224488803"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
WE HAVE OBTAINED THE BEREZIN INTEGRAL IN AN AUTOMATED WAY!!!!!\
\>", "Subitem",
 CellChangeTimes->{{3.938838065574898*^9, 3.938838086566122*^9}, {
  3.9388382063504868`*^9, 
  3.9388382063548737`*^9}},ExpressionUUID->"f0cef644-b3c8-1144-83fe-\
01efeb250fad"],

Cell[CellGroupData[{

Cell["So now it gets even tidier", "Subsubitem",
 CellChangeTimes->{{3.938838065574898*^9, 3.938838086566122*^9}, {
  3.9388382089118366`*^9, 
  3.938838217930561*^9}},ExpressionUUID->"a8fd9db8-0ae7-0247-bc37-\
2906e8695d26"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "j"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "j"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"BerezinIntegral", "[", 
  RowBox[{"%", ",", "1", ",", 
   RowBox[{"{", 
    RowBox[{"i", ",", "j", ",", "k"}], "}"}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"wick", "[", 
   RowBox[{"{", "%", "}"}], "]"}], "//", "Expand"}], "\[IndentingNewLine]", 
 RowBox[{"%", "//.", "\[Delta]rule"}]}], "Input",
 CellChangeTimes->{{3.9388382338125057`*^9, 3.9388382825024033`*^9}},
 CellLabel->
  "In[710]:=",ExpressionUUID->"9bd93d10-116f-c34e-91a2-67255cc29b8f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Phi]s", "[", 
   RowBox[{"x", ",", "j"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Phi]", "[", 
   RowBox[{"x", ",", "j"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.9388382636936073`*^9, 3.938838283133669*^9}, 
   3.938838474204731*^9},
 CellLabel->
  "Out[710]=",ExpressionUUID->"8175c0e9-ea74-6a49-9dc4-d2b0a067f4ed"],

Cell[BoxData[
 RowBox[{
  RowBox[{"\[Delta]\[Phi]s", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]s", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]s", "[", 
   RowBox[{"x", ",", "j"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]", "[", 
   RowBox[{"x", ",", "i"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]", "[", 
   RowBox[{"x", ",", "k"}], "]"}], "**", 
  RowBox[{"\[Delta]\[Phi]", "[", 
   RowBox[{"x", ",", "j"}], "]"}]}]], "Output",
 CellChangeTimes->{{3.9388382636936073`*^9, 3.938838283133669*^9}, 
   3.9388384742196503`*^9},
 CellLabel->
  "Out[711]=",ExpressionUUID->"8d9daad3-2e90-fc4e-ac87-710d5981ea83"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"i", ",", "k"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"j", ",", "j"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"k", ",", "i"}], "]"}]}], "+", 
  RowBox[{
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"i", ",", "j"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"j", ",", "k"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"k", ",", "i"}], "]"}]}], "+", 
  RowBox[{
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"i", ",", "k"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"j", ",", "i"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"k", ",", "j"}], "]"}]}], "+", 
  RowBox[{
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"i", ",", "i"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"j", ",", "k"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"k", ",", "j"}], "]"}]}], "+", 
  RowBox[{
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"i", ",", "j"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"j", ",", "i"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"k", ",", "k"}], "]"}]}], "+", 
  RowBox[{
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"i", ",", "i"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"j", ",", "j"}], "]"}], " ", 
   RowBox[{"\[Delta]", "[", 
    RowBox[{"k", ",", "k"}], "]"}]}]}]], "Output",
 CellChangeTimes->{{3.9388382636936073`*^9, 3.938838283133669*^9}, 
   3.938838474223896*^9},
 CellLabel->
  "Out[712]=",ExpressionUUID->"9863e989-7b1a-6d4d-a914-5f730d69e7a3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"2", " ", "n", " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}], "+", 
  RowBox[{"3", " ", 
   SuperscriptBox["n", "2"], " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}], "+", 
  RowBox[{
   SuperscriptBox["n", "3"], " ", 
   SuperscriptBox[
    RowBox[{"D\[Delta]", "[", 
     RowBox[{"x", ",", "x"}], "]"}], "3"]}]}]], "Output",
 CellChangeTimes->{{3.9388382636936073`*^9, 3.938838283133669*^9}, 
   3.938838474227888*^9},
 CellLabel->
  "Out[713]=",ExpressionUUID->"0d37f4c9-010a-644c-a92d-dfea7519c817"]
}, Open  ]],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.938835709515627*^9, 3.9388357506073895`*^9}, {
  3.93883580963513*^9, 
  3.9388358601239624`*^9}},ExpressionUUID->"e4874ea1-4224-c041-8dff-\
ebd0c1e0e80a"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1440, 741.75},
WindowMargins->{{1146, Automatic}, {Automatic, -6}},
CellContext->Notebook,
FrontEndVersion->"14.0 for Microsoft Windows (64-bit) (December 12, 2023)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"e8e90cd1-269b-4aa0-bd94-9f39e115a875"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 184, 3, 25, "Subsubitem",ExpressionUUID->"aa4e649a-6695-9342-88f8-a1867eff5b7f"],
Cell[CellGroupData[{
Cell[789, 29, 2324, 65, 124, "Input",ExpressionUUID->"586f0187-b41e-42d3-a6e7-fe4819030eae"],
Cell[3116, 96, 1452, 36, 32, "Output",ExpressionUUID->"a59a17d7-380a-cd40-abae-5c33f6af1ce5"],
Cell[4571, 134, 2570, 71, 52, "Output",ExpressionUUID->"3c78dbde-d81a-ef47-b195-fe7b392e8073"],
Cell[7144, 207, 1631, 39, 32, "Output",ExpressionUUID->"2e3d9e40-6b8f-e440-9d60-c3a82b126b0c"],
Cell[8778, 248, 1791, 44, 32, "Output",ExpressionUUID->"88a8c82f-22f0-ac40-be03-10b6da8d4976"],
Cell[10572, 294, 764, 14, 32, "Output",ExpressionUUID->"26d29aa8-03f8-a64a-a154-42d1215d9f95"],
Cell[11339, 310, 682, 12, 32, "Output",ExpressionUUID->"4f092e54-3885-db47-af82-82a6515500c5"]
}, Open  ]],
Cell[12036, 325, 206, 4, 67, "Input",ExpressionUUID->"1e90aa4a-94f7-304c-972e-1238f7272fbc"],
Cell[12245, 331, 358, 10, 28, "Input",ExpressionUUID->"908031c0-56de-2444-a28f-f7f41f01b67b"],
Cell[12606, 343, 208, 4, 67, "Input",ExpressionUUID->"a9bf0f98-07ff-064d-89b2-9295cea7a466"]
}, Open  ]],
Cell[12829, 350, 265, 6, 32, "Item",ExpressionUUID->"79ff84b5-8f52-354a-8abb-0141ba4fffee"],
Cell[CellGroupData[{
Cell[13119, 360, 368, 8, 32, "Item",ExpressionUUID->"0a2b3987-cc4a-8f4a-bd5a-f9828e4cbbfa"],
Cell[13490, 370, 2580, 89, 295, "Input",ExpressionUUID->"1b7afe48-f435-d445-a0ba-6c8f99426d97"],
Cell[16073, 461, 1000, 24, 48, "Input",ExpressionUUID->"d40ff829-fc6d-9c46-85f4-1774e719035d"],
Cell[17076, 487, 1249, 32, 48, "Input",ExpressionUUID->"72ecf502-ae2f-cc48-ad96-1616a7753d3e"],
Cell[18328, 521, 1206, 31, 48, "Input",ExpressionUUID->"7612ecc8-8921-6d4b-8dc6-7916139b0cb4"],
Cell[19537, 554, 5232, 144, 219, "Input",ExpressionUUID->"988a4952-f63d-3f47-854b-5a551843a802"],
Cell[24772, 700, 2756, 70, 105, "Input",ExpressionUUID->"f7eb2b9d-76a1-cb40-9ccc-53c5cfeec643"],
Cell[CellGroupData[{
Cell[27553, 774, 152, 3, 25, "Subsubitem",ExpressionUUID->"f0199b82-9234-c74b-bbab-d6a313f9539f"],
Cell[CellGroupData[{
Cell[27730, 781, 987, 25, 86, "Input",ExpressionUUID->"3c548884-0a27-2f49-92c8-f3e368cc3ef0"],
Cell[28720, 808, 665, 18, 32, "Output",ExpressionUUID->"8bf27fee-b8f6-1440-9b9b-116f6429c003"],
Cell[29388, 828, 715, 18, 32, "Output",ExpressionUUID->"87d57ee1-2881-104a-bbe2-153492e96e89"],
Cell[30106, 848, 2207, 66, 52, "Output",ExpressionUUID->"f5c9092e-1d35-c04e-aabb-c629af299f51"],
Cell[32316, 916, 691, 20, 32, "Output",ExpressionUUID->"4c0d78c0-e348-a042-a1e8-f884c57a0240"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[33068, 943, 1220, 33, 54, "Item",ExpressionUUID->"db43ab1b-a412-3b41-96d9-9c79f7cc0339"],
Cell[CellGroupData[{
Cell[34313, 980, 180, 3, 26, "Subitem",ExpressionUUID->"469b76a5-4d8e-254a-8eb8-8d49a87d239c"],
Cell[34496, 985, 3219, 93, 48, "Input",ExpressionUUID->"06af4543-971b-4146-af22-571d7f2052f0"]
}, Open  ]],
Cell[CellGroupData[{
Cell[37752, 1083, 190, 3, 26, "Subitem",ExpressionUUID->"80e4ae53-ca1e-2e47-8cff-82e956bbd61a"],
Cell[CellGroupData[{
Cell[37967, 1090, 1937, 56, 67, "Input",ExpressionUUID->"48a6c27d-92e3-0d48-a17b-605e742243b3"],
Cell[39907, 1148, 3573, 93, 71, "Output",ExpressionUUID->"a28cc674-5092-1f40-b6c3-5f729e61f09f"]
}, Open  ]],
Cell[CellGroupData[{
Cell[43517, 1246, 2198, 64, 86, "Input",ExpressionUUID->"34348c0e-757b-8d48-8ba9-95dc1b6e34d3"],
Cell[45718, 1312, 1395, 40, 32, "Output",ExpressionUUID->"57d71033-61b5-794e-8113-efab05454a7e"]
}, Open  ]],
Cell[47128, 1355, 368, 8, 105, "Input",ExpressionUUID->"7f2e16d3-f5c2-e344-b8e4-06f471a846ac"]
}, Open  ]],
Cell[CellGroupData[{
Cell[47533, 1368, 348, 7, 26, "Subitem",ExpressionUUID->"e2432991-1706-f74f-a69d-3646e896511e"],
Cell[47884, 1377, 2575, 88, 295, "Input",ExpressionUUID->"dab1b271-b914-cd45-bfe5-6d82f60844bc"],
Cell[CellGroupData[{
Cell[50484, 1469, 152, 3, 25, "Subsubitem",ExpressionUUID->"01277f60-a209-c944-8216-f6969aeb3c5e"],
Cell[CellGroupData[{
Cell[50661, 1476, 245, 5, 28, "Input",ExpressionUUID->"b1f845eb-235f-9c49-ad49-3896593c520e"],
Cell[50909, 1483, 205, 3, 32, "Output",ExpressionUUID->"780d3135-1d15-ad47-b934-0f0b0bbffd6f"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[51163, 1492, 182, 3, 25, "Subsubitem",ExpressionUUID->"5e02c822-822d-f44f-8cb0-d244f4b3cae5"],
Cell[CellGroupData[{
Cell[51370, 1499, 391, 11, 28, "Input",ExpressionUUID->"eb9681ed-033f-8a4f-b58a-390e2df5ed5c"],
Cell[51764, 1512, 245, 6, 32, "Output",ExpressionUUID->"4448d62e-8c2e-7c46-a7c6-aab6381a658f"]
}, Open  ]],
Cell[CellGroupData[{
Cell[52046, 1523, 391, 11, 28, "Input",ExpressionUUID->"fe4cf51e-6417-8d4d-995d-c287c9f20b53"],
Cell[52440, 1536, 152, 3, 32, "Output",ExpressionUUID->"267d9ba1-aa61-124b-8777-f1d5de1bcd6e"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[52653, 1546, 586, 12, 45, "Subitem",ExpressionUUID->"1fb653f6-5aa4-4547-83b4-55cbd540fc50"],
Cell[53242, 1560, 877, 23, 28, "Input",ExpressionUUID->"acf93c3d-6a6b-4e9f-9eeb-5a7dd016d0a2"],
Cell[CellGroupData[{
Cell[54144, 1587, 156, 3, 25, "Subsubitem",ExpressionUUID->"7dd3b532-ceb1-df49-8f55-33e3e5bc718e"],
Cell[CellGroupData[{
Cell[54325, 1594, 479, 13, 67, "Input",ExpressionUUID->"32761283-f4f2-1844-bc00-ac792eee4a01"],
Cell[54807, 1609, 293, 8, 32, "Output",ExpressionUUID->"7d19646c-350d-1641-828a-ba60b6733c36"],
Cell[55103, 1619, 210, 5, 32, "Output",ExpressionUUID->"ff5e4a0a-bb5c-fe4c-8049-9c4b12ee4119"],
Cell[55316, 1626, 155, 3, 32, "Output",ExpressionUUID->"d27fced8-cde6-8846-a15e-a465d641ce70"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[55532, 1636, 880, 14, 45, "Subitem",ExpressionUUID->"e848b416-2eb5-1946-a789-3f144d18412e"],
Cell[56415, 1652, 525, 8, 25, "Subsubitem",ExpressionUUID->"fd810764-b7f9-5b4c-add2-c5b658329042"],
Cell[56943, 1662, 527, 8, 25, "Subsubitem",ExpressionUUID->"99463568-8bba-c740-8969-122ee1a82812"],
Cell[57473, 1672, 869, 14, 25, "Subsubitem",ExpressionUUID->"8006388a-2e3a-4c41-884c-68b0699eac2e"]
}, Open  ]],
Cell[CellGroupData[{
Cell[58379, 1691, 597, 11, 26, "Subitem",ExpressionUUID->"7ebf3466-f37c-d841-b068-627040cffaea"],
Cell[CellGroupData[{
Cell[59001, 1706, 1331, 30, 32, "Input",ExpressionUUID->"e0a3bd7a-94f4-e24c-a565-9b3c5c833150"],
Cell[60335, 1738, 875, 24, 36, "Output",ExpressionUUID->"70801d78-53ec-c949-ba2f-f709f2332a1e"]
}, Open  ]],
Cell[CellGroupData[{
Cell[61247, 1767, 252, 4, 25, "Subsubitem",ExpressionUUID->"1aab1665-7b8d-fc47-8d69-32113edf77eb"],
Cell[CellGroupData[{
Cell[61524, 1775, 758, 14, 48, "Input",ExpressionUUID->"4468721f-2fed-624b-81c5-292a462f613d"],
Cell[62285, 1791, 722, 14, 32, "Output",ExpressionUUID->"5e366525-cf03-a94d-80ea-7b1c2f77f04c"],
Cell[63010, 1807, 724, 14, 32, "Output",ExpressionUUID->"0c136c0a-dd29-834f-934e-e3ce9310693a"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[63783, 1827, 217, 4, 25, "Subsubitem",ExpressionUUID->"66415254-b28f-6947-b615-03696a924e1b"],
Cell[CellGroupData[{
Cell[64025, 1835, 425, 10, 48, "Input",ExpressionUUID->"9df57405-5300-3d48-9154-5f0d39ab8be8"],
Cell[64453, 1847, 344, 9, 32, "Output",ExpressionUUID->"bfdf90da-157c-0843-b405-713b315f25b3"],
Cell[64800, 1858, 366, 10, 32, "Output",ExpressionUUID->"a5d1faaf-bc2f-4f46-bdda-b6297f9f20d0"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[65215, 1874, 261, 4, 25, "Subsubitem",ExpressionUUID->"be496b0f-7fb6-c946-b708-ef33c822906d"],
Cell[CellGroupData[{
Cell[65501, 1882, 475, 11, 48, "Input",ExpressionUUID->"9b1a6691-c0b4-bc4a-afe3-78e6e4285e6b"],
Cell[65979, 1895, 337, 9, 32, "Output",ExpressionUUID->"42e8ca11-649d-924f-9965-bbf370baea5e"],
Cell[66319, 1906, 339, 9, 32, "Output",ExpressionUUID->"74042c08-9e10-234c-8d3d-1af10724baa3"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[66707, 1921, 301, 4, 25, "Subsubitem",ExpressionUUID->"0b05d015-be23-b44b-88c3-5a496da368b4"],
Cell[CellGroupData[{
Cell[67033, 1929, 430, 10, 48, "Input",ExpressionUUID->"fa2adb12-0707-bb4b-bd5d-5de2e38e5759"],
Cell[67466, 1941, 342, 9, 32, "Output",ExpressionUUID->"cb6b6c2d-77b8-2947-a337-f121eb2a0736"],
Cell[67811, 1952, 592, 12, 28, "Message",ExpressionUUID->"24aea745-a365-7d48-90a5-c70ed796b01c"],
Cell[68406, 1966, 340, 9, 32, "Output",ExpressionUUID->"2af7d8a0-195b-204e-804b-c57509d36466"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[68807, 1982, 290, 7, 26, "Subitem",ExpressionUUID->"2e87107c-9060-9c42-9a9d-fcb98eb949ca"],
Cell[CellGroupData[{
Cell[69122, 1993, 743, 23, 32, "Input",ExpressionUUID->"fb6a8ee1-8696-9646-b0e5-9c6050462b99"],
Cell[69868, 2018, 729, 23, 36, "Output",ExpressionUUID->"47a70612-63f9-844f-8871-f92867564a5a"]
}, Open  ]],
Cell[CellGroupData[{
Cell[70634, 2046, 240, 4, 25, "Subsubitem",ExpressionUUID->"b3ab1685-59e8-9a49-9d50-c3c36b7a4777"],
Cell[CellGroupData[{
Cell[70899, 2054, 529, 11, 48, "Input",ExpressionUUID->"70dece0a-a7bf-d24d-84a1-bd5f359392f2"],
Cell[71431, 2067, 393, 10, 32, "Output",ExpressionUUID->"e996484e-0460-f741-a454-d1306f441e91"],
Cell[71827, 2079, 393, 10, 32, "Output",ExpressionUUID->"cf4b8c4a-b0e0-cd49-b0e3-5b7be67af28e"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[72269, 2095, 235, 4, 25, "Subsubitem",ExpressionUUID->"c7c5193d-4b88-4841-a697-8b1b176fcde8"],
Cell[CellGroupData[{
Cell[72529, 2103, 578, 12, 48, "Input",ExpressionUUID->"5d6ae434-1dd8-4f47-95dc-9d79b384ddcb"],
Cell[73110, 2117, 417, 10, 32, "Output",ExpressionUUID->"e4d36d10-781f-a64c-b438-da0a765b259a"],
Cell[73530, 2129, 417, 10, 32, "Output",ExpressionUUID->"83bfa19d-1c35-6c40-9175-d22879e96d81"]
}, Open  ]],
Cell[CellGroupData[{
Cell[73984, 2144, 379, 9, 48, "Input",ExpressionUUID->"d8773327-be1f-8841-b03b-c2210f3de906"],
Cell[74366, 2155, 291, 8, 32, "Output",ExpressionUUID->"48e1647b-ae89-f54b-bb5a-470ea2f000e6"],
Cell[74660, 2165, 313, 9, 32, "Output",ExpressionUUID->"faa32c96-04da-9946-b759-6f111316422a"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[75022, 2180, 168, 3, 25, "Subsubitem",ExpressionUUID->"7711657c-4c6b-ec4b-aa48-a4da5bd43d9f"],
Cell[CellGroupData[{
Cell[75215, 2187, 516, 13, 48, "Input",ExpressionUUID->"70ec4bb8-f8c9-2d41-bbaf-32375dcecc95"],
Cell[75734, 2202, 428, 12, 32, "Output",ExpressionUUID->"91a30e85-649a-ba48-b112-4b68292ec020"],
Cell[76165, 2216, 428, 12, 32, "Output",ExpressionUUID->"45d0fe4f-2480-1949-bf5c-59bad6bd43ca"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[76654, 2235, 345, 7, 26, "Subitem",ExpressionUUID->"db1043a5-2f07-184d-a28c-52423bb9bed0"],
Cell[CellGroupData[{
Cell[77024, 2246, 974, 30, 32, "Input",ExpressionUUID->"b90c349d-9317-2e4f-9c5f-81d2837836d2"],
Cell[78001, 2278, 894, 29, 36, "Output",ExpressionUUID->"0b81e0fe-1ef3-e842-9aad-01eb6235ee01"]
}, Open  ]],
Cell[CellGroupData[{
Cell[78932, 2312, 226, 4, 25, "Subsubitem",ExpressionUUID->"997768a4-0093-a840-b52b-dd789d18ceb4"],
Cell[CellGroupData[{
Cell[79183, 2320, 484, 11, 48, "Input",ExpressionUUID->"0fcdd6e5-3753-5843-b1a0-bf76e168b503"],
Cell[79670, 2333, 314, 8, 32, "Output",ExpressionUUID->"e2445ffc-1a9c-7846-91ac-e8c724de06c3"],
Cell[79987, 2343, 175, 3, 32, "Output",ExpressionUUID->"cce489f7-d3f7-6f47-8ff6-a4ed38700869"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[80211, 2352, 304, 4, 25, "Subsubitem",ExpressionUUID->"d12d8c93-ca4a-3a4c-bb4f-5b46e26c87ba"],
Cell[CellGroupData[{
Cell[80540, 2360, 481, 11, 48, "Input",ExpressionUUID->"97ca3764-465f-fe4b-aae4-a16a0ece9207"],
Cell[81024, 2373, 367, 9, 32, "Output",ExpressionUUID->"cfe9f3c8-9aac-684b-8c83-6e430223ff66"],
Cell[81394, 2384, 367, 9, 32, "Output",ExpressionUUID->"7b4816a2-7633-2e42-892f-71402c06d883"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[81810, 2399, 299, 4, 25, "Subsubitem",ExpressionUUID->"800c4c3c-1bde-a840-94b3-4b7e36277e32"],
Cell[CellGroupData[{
Cell[82134, 2407, 483, 11, 48, "Input",ExpressionUUID->"9d5db3b6-1fc5-dc47-a56e-3effdf7d27c3"],
Cell[82620, 2420, 367, 9, 32, "Output",ExpressionUUID->"fe37493f-9fa2-6443-a50b-02209e2f6f17"],
Cell[82990, 2431, 367, 9, 32, "Output",ExpressionUUID->"ecf6de2e-aad2-a94b-a9a8-60460209ceeb"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[83406, 2446, 309, 5, 25, "Subsubitem",ExpressionUUID->"e059b48b-c577-d64e-ba96-714fe9ca2709"],
Cell[CellGroupData[{
Cell[83740, 2455, 480, 11, 48, "Input",ExpressionUUID->"919c60da-d33c-ae44-9faf-2c2d7665f0e2"],
Cell[84223, 2468, 389, 9, 32, "Output",ExpressionUUID->"2d21c63f-2aa1-7742-b170-6075fb4e77b1"],
Cell[84615, 2479, 389, 9, 32, "Output",ExpressionUUID->"da15c705-67b1-3949-899d-7b5e3da10656"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[85053, 2494, 459, 8, 25, "Subsubitem",ExpressionUUID->"0e759555-58be-3946-9eeb-a56ba56240c7"],
Cell[CellGroupData[{
Cell[85537, 2506, 1577, 45, 48, "Input",ExpressionUUID->"f998560b-b78a-2c42-b6ab-058dd1122b36"],
Cell[87117, 2553, 3754, 103, 71, "Output",ExpressionUUID->"8169205d-35ea-bb42-bdc0-bdc8c5417809"],
Cell[90874, 2658, 2080, 55, 52, "Output",ExpressionUUID->"13b375ab-d1f1-3f43-8ed4-4d48c1c86e52"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[93015, 2720, 372, 10, 26, "Subitem",ExpressionUUID->"dc2d69d4-4094-b84c-bf83-966874ab650c"],
Cell[CellGroupData[{
Cell[93412, 2734, 2044, 56, 32, "Input",ExpressionUUID->"256e46d6-be10-ce4e-932e-65ac99d73fa1"],
Cell[95459, 2792, 1839, 54, 36, "Output",ExpressionUUID->"43a191d6-ed3b-6e4d-8a1f-540447712e2d"]
}, Open  ]],
Cell[CellGroupData[{
Cell[97335, 2851, 444, 6, 25, "Subsubitem",ExpressionUUID->"d7ec8e85-dbc1-0a4f-b819-62d90acd7172"],
Cell[CellGroupData[{
Cell[97804, 2861, 752, 14, 48, "Input",ExpressionUUID->"2ff58558-d8c1-d547-ab74-ff45e18714b6"],
Cell[98559, 2877, 1073, 19, 32, "Output",ExpressionUUID->"e1859fb5-567e-ba45-87f1-67009873bbdf"],
Cell[99635, 2898, 1095, 20, 32, "Output",ExpressionUUID->"feb251ac-49ab-4d43-a748-1460e2d2742f"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[100779, 2924, 537, 9, 25, "Subsubitem",ExpressionUUID->"51639722-1293-0f42-abf5-0f96ccd7fca0"],
Cell[CellGroupData[{
Cell[101341, 2937, 757, 14, 48, "Input",ExpressionUUID->"bb3d68f6-6b6c-f248-8f66-ea5324dccbb1"],
Cell[102101, 2953, 965, 17, 32, "Output",ExpressionUUID->"ee0360bb-493e-3c47-acb8-ba765a0e18f6"],
Cell[103069, 2972, 965, 17, 32, "Output",ExpressionUUID->"00dec61e-6301-e948-bd94-aa794e38d2fb"]
}, Open  ]],
Cell[CellGroupData[{
Cell[104071, 2994, 378, 9, 48, "Input",ExpressionUUID->"f8001e3d-eb88-1447-b9fc-52e641530035"],
Cell[104452, 3005, 337, 9, 32, "Output",ExpressionUUID->"372c23c7-3a11-f24e-b65d-87674df3483d"],
Cell[104792, 3016, 339, 9, 32, "Output",ExpressionUUID->"aa349e28-124e-744e-abd0-a53a0125e075"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[105180, 3031, 600, 11, 25, "Subsubitem",ExpressionUUID->"6afdf4f9-8251-714d-a051-80109affbc15"],
Cell[CellGroupData[{
Cell[105805, 3046, 994, 19, 48, "Input",ExpressionUUID->"f0deb579-0e49-db49-9af6-0d259d937323"],
Cell[106802, 3067, 1253, 22, 32, "Output",ExpressionUUID->"2c65e00d-9042-cf45-897e-d6da3ee5f094"],
Cell[108058, 3091, 1277, 23, 32, "Output",ExpressionUUID->"f78d632a-49a5-1b4e-99d7-b853e6491eb3"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[109384, 3120, 561, 10, 25, "Subsubitem",ExpressionUUID->"4bc2c75a-3bd8-5b4c-84b3-444d4f1553f0"],
Cell[CellGroupData[{
Cell[109970, 3134, 1577, 45, 48, "Input",ExpressionUUID->"7fec22ab-8d91-ca4e-b57d-79ae406e61d6"],
Cell[111550, 3181, 3505, 100, 71, "Output",ExpressionUUID->"869905b1-195c-e74d-8b1e-d92510ced574"],
Cell[115058, 3283, 870, 25, 32, "Output",ExpressionUUID->"f1b94e2c-cee5-9749-b683-265a229a3807"]
}, Open  ]],
Cell[115943, 3311, 208, 4, 67, "Input",ExpressionUUID->"a65caf61-61cb-834a-bf0d-5115440345b9"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[116190, 3320, 431, 8, 32, "Item",ExpressionUUID->"13148127-a7d3-0646-b767-031a721b239e"],
Cell[CellGroupData[{
Cell[116646, 3332, 468, 8, 32, "Item",ExpressionUUID->"00b39b3c-0541-d344-b383-55d53e3a1bad"],
Cell[CellGroupData[{
Cell[117139, 3344, 320, 7, 26, "Subitem",ExpressionUUID->"0e203fef-0772-b249-9b9f-c55f301f1aeb"],
Cell[CellGroupData[{
Cell[117484, 3355, 1684, 52, 32, "Input",ExpressionUUID->"229b2a52-3a47-9b40-96fd-e1f719023dfb"],
Cell[119171, 3409, 1589, 50, 36, "Output",ExpressionUUID->"1c572c0f-6518-374a-b8f1-4709564e1aa7"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[120809, 3465, 784, 13, 64, "Subitem",ExpressionUUID->"102839f3-2030-4243-aea3-e68c6f4da9ce"],
Cell[CellGroupData[{
Cell[121618, 3482, 267, 6, 25, "Subsubitem",ExpressionUUID->"c8893ce3-0d07-914e-b328-2cb8d934845e"],
Cell[CellGroupData[{
Cell[121910, 3492, 2995, 86, 200, "Input",ExpressionUUID->"43f18723-714d-bc40-85e5-bf2d03d6ed88"],
Cell[124908, 3580, 1596, 44, 32, "Output",ExpressionUUID->"3e580377-125b-6a49-9ddb-73c64fe33eb6"],
Cell[126507, 3626, 1270, 34, 32, "Output",ExpressionUUID->"4a9541ea-f04c-ec4e-89aa-1e71eb0cc1e6"],
Cell[127780, 3662, 1962, 54, 32, "Output",ExpressionUUID->"91515631-3c56-3e43-a225-1d8aaec8ed9c"],
Cell[129745, 3718, 942, 23, 32, "Output",ExpressionUUID->"3edf9067-af81-054b-a245-c783ce2657d4"],
Cell[130690, 3743, 1650, 43, 32, "Output",ExpressionUUID->"5be9d013-f8d1-bb46-9706-0def61f331f8"],
Cell[132343, 3788, 958, 23, 32, "Output",ExpressionUUID->"cdf7cb15-270a-d44f-baa1-7148af4eeca3"],
Cell[133304, 3813, 1402, 35, 32, "Output",ExpressionUUID->"b8acca72-b574-2e40-b26b-7ba4e9544a57"],
Cell[134709, 3850, 745, 16, 32, "Output",ExpressionUUID->"a9e1aea4-3f6c-3e46-b8c7-bd1031579ee7"],
Cell[135457, 3868, 1185, 28, 32, "Output",ExpressionUUID->"5daf955b-bda7-654d-8882-881753008282"],
Cell[136645, 3898, 753, 16, 32, "Output",ExpressionUUID->"7b0b782a-0e58-e143-9b3a-97f2453232ce"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[137459, 3921, 358, 7, 26, "Subitem",ExpressionUUID->"eddeee31-3283-5548-a3f1-c415a706c878"],
Cell[137820, 3930, 1084, 30, 28, "Input",ExpressionUUID->"c0cd05c5-9104-6f4e-9015-70383a50b828"]
}, Open  ]],
Cell[CellGroupData[{
Cell[138941, 3965, 433, 8, 26, "Subitem",ExpressionUUID->"9e28fab5-c355-2948-99c0-d92bb702510c"],
Cell[CellGroupData[{
Cell[139399, 3977, 185, 3, 25, "Subsubitem",ExpressionUUID->"2cad8f3c-a487-c443-a699-0ed0a954cf95"],
Cell[139587, 3982, 5234, 145, 238, "Input",ExpressionUUID->"93e16e20-bc24-3d4b-8e60-2506eaafc8d6"]
}, Open  ]],
Cell[CellGroupData[{
Cell[144858, 4132, 156, 3, 25, "Subsubitem",ExpressionUUID->"da71245c-1d4c-3742-8d64-b698c1355f2d"],
Cell[CellGroupData[{
Cell[145039, 4139, 594, 13, 28, "Input",ExpressionUUID->"428254f8-c654-614f-aebd-73f802ae7887"],
Cell[145636, 4154, 589, 12, 32, "Output",ExpressionUUID->"34f05d35-f195-f94c-a7e1-935199a7ef21"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[146274, 4172, 156, 3, 25, "Subsubitem",ExpressionUUID->"4430260b-e3fa-574b-b04f-1d673d9ce676"],
Cell[CellGroupData[{
Cell[146455, 4179, 745, 18, 28, "Input",ExpressionUUID->"6e66414d-fa5d-ba47-814a-f60b9babf2d1"],
Cell[147203, 4199, 767, 18, 32, "Output",ExpressionUUID->"fb5a5707-7b0f-8e4e-9dcf-72b0e77faf91"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[148019, 4223, 156, 3, 25, "Subsubitem",ExpressionUUID->"3a2cfbdb-c83f-ae49-b5cf-5167b7da8887"],
Cell[CellGroupData[{
Cell[148200, 4230, 706, 16, 28, "Input",ExpressionUUID->"f50b8ea6-bdd7-3542-a1d2-706a555902f9"],
Cell[148909, 4248, 979, 25, 32, "Output",ExpressionUUID->"141b2974-bf82-974d-8656-068554acc078"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[149937, 4279, 156, 3, 25, "Subsubitem",ExpressionUUID->"d7a4ca0c-937d-6f4e-9a94-f0c9bf326cad"],
Cell[CellGroupData[{
Cell[150118, 4286, 1515, 33, 28, "Input",ExpressionUUID->"ad49c090-e65e-5348-97ca-70121901a9de"],
Cell[151636, 4321, 2154, 47, 32, "Output",ExpressionUUID->"2daab7cf-8d9f-c645-b576-e585ad211364"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[153839, 4374, 156, 3, 25, "Subsubitem",ExpressionUUID->"68388e8c-d46d-994d-99a5-ba6d6e90fcac"],
Cell[CellGroupData[{
Cell[154020, 4381, 1028, 19, 28, "Input",ExpressionUUID->"1112a531-5c0f-9741-86fc-2e379ec545fa"],
Cell[155051, 4402, 1415, 23, 32, "Output",ExpressionUUID->"c4779d5d-1f74-f54a-8aec-5a7a5e722005"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[156515, 4431, 156, 3, 25, "Subsubitem",ExpressionUUID->"1529b33f-6418-4740-a01e-7fa798106db6"],
Cell[CellGroupData[{
Cell[156696, 4438, 1633, 36, 28, "Input",ExpressionUUID->"a08403ce-14b7-c643-a06b-3ae0119dff82"],
Cell[158332, 4476, 2338, 50, 32, "Output",ExpressionUUID->"5c30ef36-88f4-5e4e-bb0a-11bb4d4aa554"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[160719, 4532, 168, 3, 25, "Subsubitem",ExpressionUUID->"52a6f898-77f4-7b42-a933-f3d7546a0898"],
Cell[160890, 4537, 128, 3, 28, "Input",ExpressionUUID->"9ed8b755-7368-c94a-9434-67879ecb402a"],
Cell[161021, 4542, 333, 6, 124, "Input",ExpressionUUID->"9e83870d-fd83-5141-b1ef-f2b85afec84e"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[161415, 4555, 194, 3, 32, "Item",ExpressionUUID->"abfe7cff-ab6b-c044-92b0-2e3218ff43c8"],
Cell[CellGroupData[{
Cell[161634, 4562, 3052, 79, 181, "Input",ExpressionUUID->"72b7bd21-3656-c843-843d-d8ce834fac9e"],
Cell[164689, 4643, 1302, 34, 32, "Output",ExpressionUUID->"a8833fdf-ee9f-4c4e-af94-b06264f594d7"],
Cell[165994, 4679, 2935, 79, 76, "Output",ExpressionUUID->"786664bb-9d29-0b45-9fa0-12b84c974340"],
Cell[168932, 4760, 1523, 39, 32, "Output",ExpressionUUID->"608d64ce-7156-4d40-8867-1a0d0009cd5c"],
Cell[170458, 4801, 6724, 177, 138, "Output",ExpressionUUID->"bd5722e1-a918-e742-b2c2-1c6b6033838e"],
Cell[177185, 4980, 2950, 77, 71, "Output",ExpressionUUID->"82319cfb-f9b3-b54b-98f1-c900c8e8a79f"],
Cell[180138, 5059, 1205, 28, 32, "Output",ExpressionUUID->"7dcb3bc3-3296-df4f-87af-8c85d6f786ea"],
Cell[181346, 5089, 815, 17, 32, "Output",ExpressionUUID->"28029f7a-dd08-254f-8202-15c00c712f29"],
Cell[182164, 5108, 1066, 26, 35, "Output",ExpressionUUID->"fcb72651-f4f2-e644-be14-18422032d1f0"],
Cell[183233, 5136, 813, 19, 35, "Output",ExpressionUUID->"fbdfb572-04aa-264d-bac1-b7fe13003963"]
}, Open  ]],
Cell[CellGroupData[{
Cell[184083, 5160, 506, 9, 25, "Subsubitem",ExpressionUUID->"172c87a3-c205-494c-85a7-530f0b46eef7"],
Cell[CellGroupData[{
Cell[184614, 5173, 2481, 72, 181, "Input",ExpressionUUID->"b53d3595-6043-9241-b9c3-f161314f74ef"],
Cell[187098, 5247, 663, 17, 32, "Output",ExpressionUUID->"118c3e1a-ee06-6a47-b3fd-b1fa2f42ada6"],
Cell[187764, 5266, 4312, 122, 109, "Output",ExpressionUUID->"34fe84ea-f3c5-1b44-8456-0a61ebf251aa"],
Cell[192079, 5390, 701, 19, 32, "Output",ExpressionUUID->"7d4d0074-6a8d-af41-910e-35264773b0bc"]
}, Open  ]],
Cell[CellGroupData[{
Cell[192817, 5414, 1908, 56, 162, "Input",ExpressionUUID->"4360d4ca-6fbb-364c-86a5-72761b1806c5"],
Cell[194728, 5472, 565, 16, 32, "Output",ExpressionUUID->"655b6d3b-87a5-f44f-86c4-61ddddd0517a"],
Cell[195296, 5490, 603, 18, 32, "Output",ExpressionUUID->"de4aa814-6c59-5c49-93f4-18fb608307a8"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[195948, 5514, 149, 3, 25, "Subsubitem",ExpressionUUID->"0dcd6f50-3e13-9945-87de-05ce154a0287"],
Cell[CellGroupData[{
Cell[196122, 5521, 4461, 135, 333, "Input",ExpressionUUID->"afd5defb-a56e-444a-b5a6-c1d739125e96"],
Cell[200586, 5658, 616, 17, 32, "Output",ExpressionUUID->"931e354e-50aa-7540-ba1c-137fd6028962"],
Cell[201205, 5677, 662, 17, 32, "Output",ExpressionUUID->"d5c59bb7-9157-a145-8299-8dc9696ac965"],
Cell[201870, 5696, 642, 19, 32, "Output",ExpressionUUID->"390fb446-be2f-ab44-b3f3-d22d469d0ce0"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[202561, 5721, 453, 9, 43, "Subsubitem",ExpressionUUID->"8132199e-e4e9-b047-a562-b2efbf4e6a31"],
Cell[203017, 5732, 287, 7, 28, "Input",ExpressionUUID->"f310ec45-e27a-ee47-81dd-9ce7264b6019"],
Cell[203307, 5741, 2923, 72, 105, "Input",ExpressionUUID->"616ed493-efb9-fa46-bcb8-812f9995ab52"],
Cell[CellGroupData[{
Cell[206255, 5817, 947, 23, 28, "Input",ExpressionUUID->"ea7bfa85-5136-ba41-aa1b-7aa35ad2a892"],
Cell[207205, 5842, 943, 20, 32, "Output",ExpressionUUID->"1dc8062f-1020-c445-84a3-fae224488803"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[208197, 5868, 268, 6, 26, "Subitem",ExpressionUUID->"f0cef644-b3c8-1144-83fe-01efeb250fad"],
Cell[CellGroupData[{
Cell[208490, 5878, 225, 4, 25, "Subsubitem",ExpressionUUID->"a8fd9db8-0ae7-0247-bc37-2906e8695d26"],
Cell[CellGroupData[{
Cell[208740, 5886, 929, 24, 86, "Input",ExpressionUUID->"9bd93d10-116f-c34e-91a2-67255cc29b8f"],
Cell[209672, 5912, 617, 17, 32, "Output",ExpressionUUID->"8175c0e9-ea74-6a49-9dc4-d2b0a067f4ed"],
Cell[210292, 5931, 667, 17, 32, "Output",ExpressionUUID->"8d9daad3-2e90-fc4e-ac87-710d5981ea83"],
Cell[210962, 5950, 2157, 65, 52, "Output",ExpressionUUID->"9863e989-7b1a-6d4d-a914-5f730d69e7a3"],
Cell[213122, 6017, 643, 19, 32, "Output",ExpressionUUID->"0d37f4c9-010a-644c-a92d-dfea7519c817"]
}, Open  ]],
Cell[213780, 6039, 204, 4, 28, "Input",ExpressionUUID->"e4874ea1-4224-c041-8dff-ebd0c1e0e80a"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

